webpackJsonp([1],{"+72Q":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},"1J4J":function(t,e,n){var i=n("32sZ"),a=n("jpSv");t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;++s)e[o+s]=r[s];return e||a(r)}},"1oGQ":function(t,e,n){"use strict";var i=n("3cXf"),a=n.n(i),o=n("AAo7"),r=n("0xDb"),s=n("Kww8"),c=n.n(s),u={data:function(){return{userData:Object(r.h)(),psdData:{phone:"",code:"",psd1:"",psd2:""},showCodeBox:!0,count:60,gettingCodeTag:!1}},created:function(){this.psdData.phone=this.userData.user.phone||""},methods:{checkPhoneNum:function(){var t=!1;return this.psdData.phone?r.b.check("mobile",this.psdData.phone)?t=!0:this.$toast("手机号码格式不正确"):this.$toast("请输入手机号码"),t},getCode:function(){this.checkPhoneNum()&&this.getIdentiCode()},getIdentiCode:function(){var t=this;if(!this.gettingCodeTag){this.gettingCodeTag=!0;var e={phone:this.psdData.phone,type:3,channel:$GLOBAL_CONST.channel};this.$api.decipherPost(o.a.SMSCODE,e,function(e){t.gettingCodeTag=!1,t.showCodeBox=!1;var n=t.count;!function e(){var i=setTimeout(e,1e3);t.count--,0==t.count&&(clearTimeout(i),t.showCodeBox=!0,t.count=n)}()},function(){t.gettingCodeTag=!1,t.showCodeBox=!0,t.$toast("系统君抽风，请稍候再来骚扰")})}},preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},checkParams:function(){return this.psdData.phone?r.b.check("mobile",this.psdData.phone)?this.psdData.code?r.b.check("smsCode",this.psdData.code)?this.psdData.psd1&&this.psdData.psd2?this.psdData.psd1!==this.psdData.psd2?(this.$toast("两次输入的密码不一致"),!1):!!r.b.check("psd",this.psdData.psd1)||(this.$toast("密码仅可设置为六位数字"),!1):(this.$toast("密码不能为空"),!1):(this.$toast("验证码格式不正确"),!1):(this.$toast("验证码不能为空"),!1):(this.$toast("手机号码格式不正确"),!1):(this.$toast("手机号码不能为空"),!1)},setPsd:function(){this.checkParams()&&this.setPassword()},setPassword:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.userData.user.id,token:this.userData.token,phone:this.psdData.phone,code:this.psdData.code};this.$api.decipherPost(o.a.BINDPHONE,e,function(e){0==e.status?e.decryptData.bindphone?(t.$toast("请以当前登录的手机号获取验证码"),t.initInfo(e.decryptData.bindphone)):t.setPassword666():t.$toast(e.message)},function(){t.$toast("系统君抽风，请稍候再来骚扰")})},initInfo:function(t){this.psdData.phone=t,this.psdData.code="",this.showCodeBox=!0,this.count=60},setPassword666:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.userData.user.id,token:this.userData.token,sms_code:this.psdData.code,new_pwd:c()(this.psdData.psd1)};this.$api.decipherPost(o.a.SETPAYPW,e,function(e){if(0==e.status){var n=t.psdData.phone.split("");n.splice(3,4,"****");var i=n.join("");t.userData.user.bindphone=i;var o=a()(t.userData);r.a.set("TDY_USERINFO",o,2592e3),localStorage.setItem("TDY_USERINFO",o),t.$emit("success"),t.$toast("设置支付密码成功")}else t.$toast(e.message)},function(){t.$toast("系统君抽风，请稍候再来骚扰")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-mask-dialog",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[n("div",{staticClass:"set-psd-box common-box",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[n("p",{staticClass:"title"},[t._v("首次使用余额支付")]),t._v(" "),n("div",{staticClass:"content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.phone,expression:"psdData.phone",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"tel",placeholder:"输入手机号"},domProps:{value:t.psdData.phone},on:{input:function(e){e.target.composing||t.$set(t.psdData,"phone",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.code,expression:"psdData.code",modifiers:{trim:!0}}],staticClass:"smscode",attrs:{maxlength:"6",type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.psdData.code},on:{input:function(e){e.target.composing||t.$set(t.psdData,"code",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.showCodeBox?n("a",{staticClass:"text",on:{click:t.getCode}},[t._v("发送验证码")]):n("a",{staticClass:"text disabled"},[t._v(t._s(t.count)+"秒后重新发送")])]),t._v(" "),n("div",{staticClass:"content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.psd1,expression:"psdData.psd1",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"password",placeholder:"设置六位数字支付密码"},domProps:{value:t.psdData.psd1},on:{input:function(e){e.target.composing||t.$set(t.psdData,"psd1",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.psd2,expression:"psdData.psd2",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"password",placeholder:"再次输入支付密码"},domProps:{value:t.psdData.psd2},on:{input:function(e){e.target.composing||t.$set(t.psdData,"psd2",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("a",{staticClass:"set-btn",on:{click:t.setPsd}},[t._v("设置密码")])])])},staticRenderFns:[]};var l=n("vSla")(u,h,!1,function(t){n("zHFW")},"data-v-5dd806a9",null);e.a=l.exports},"32sZ":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}},"4j5g":function(t,e,n){"use strict";var i=n("AAo7"),a=n("0xDb"),o=n("Kww8"),r=n.n(o),s={data:function(){return{userData:Object(a.h)(),psdGroup:[],psdArr:[],curIndex:0,number:["1","2","3","4","5","6","7","8","9","","0"]}},props:["order"],watch:{curIndex:function(t){t>5&&this.payByWallet()}},created:function(){this.initPsd()},methods:{init:function(){this.initPsd(),this.psdArr=[],this.curIndex=0},initPsd:function(){this.psdGroup=[];for(var t=0;t<6;t++)this.psdGroup.push({val:""})},preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},inputPsd:function(t,e){9!=e&&(this.curIndex>5||(this.psdArr.push(t),this.psdGroup[this.curIndex].val=t,this.curIndex++))},delPsd:function(){this.curIndex<1||(this.psdArr.pop(),this.psdGroup[this.curIndex-1].val="",this.curIndex--)},findPsd:function(){var t=window.location.origin+"/reset_pw?channel="+$GLOBAL_CONST.channel;/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/reset_pw?channel="+$GLOBAL_CONST.channel),window.location.href=t},payByWallet:function(){var t=this;this.$indicator.open();var e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.order.order_no,pay_type:3,order_type:2,trade_type:0};this.$api.decipherPost(i.a.PREPAYORDER,e,function(e){0==e.status&&e.decryptData&&e.decryptData.prepay_id?t.payWallt(e.decryptData.prepay_id):(t.init(),t.$indicator.close(),t.$toast(e.message))},function(){t.$indicator.close(),t.closeDialog(),t.$toast("网络错误，请检查您的网络")})},payWallt:function(t){var e=this,n={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,prepay_id:t,pay_password:r()(this.psdArr.join(""))};this.$api.decipherPost(i.a.PAYBYWALLT,n,function(t){e.$indicator.close(),e.handlePayRes(t)},function(){e.$indicator.close()})},handlePayRes:function(t){200010==t.status?(this.$emit("exit"),this.$toast("当前支付已过期，请重新下单")):200005==t.status?(this.$emit("exit"),this.$toast("当前订单不存在")):200008==t.status?(this.closeDialog(),this.$toast("游戏币余额不足，请更换支付方式")):200012==t.status?(this.closeDialog(),this.$toast("今日密码错误次数已达上限，请更换其他支付方式")):200009==t.status?(this.init(),this.$emit("showSetPwd"),this.$toast("请先设置游戏币支付密码")):200011==t.status?(this.init(),this.$toast("支付密码错误")):200013==t.status?(this.closeDialog(),this.$toast("游戏币余额发生变动，请重新支付")):(this.$toast("支付成功"),this.$emit("exit"))}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-box"},[n("p",{staticClass:"title"},[n("i",{staticClass:"icon icon-close-p close",on:{click:t.closeDialog}}),t._v("请输入支付密码")]),t._v(" "),n("div",{staticClass:"psd-box clearfix"},t._l(t.psdGroup,function(t,e){return n("input",{key:e,attrs:{type:"password",readonly:""},domProps:{value:t.val}})})),t._v(" "),n("p",{staticClass:"forget"},[n("span",{on:{click:t.findPsd}},[t._v("忘记密码？")])]),t._v(" "),n("ul",{staticClass:"key-box clearfix"},[t._l(t.number,function(e,i){return n("li",{key:i,class:{bginherit:9==i},on:{click:function(n){t.inputPsd(e,i)}}},[t._v(t._s(e))])}),t._v(" "),n("li",{staticStyle:{background:"inherit"},on:{click:t.delPsd}},[n("i",{staticClass:"icon icon-del"})])],2)])},staticRenderFns:[]};var u=n("vSla")(s,c,!1,function(t){n("wIxz")},"data-v-130684f2",null);e.a=u.exports},"5RIO":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"5SCX":function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},"6LcQ":function(t,e){e.read=function(t,e,n,i,a){var o,r,s=8*a-i-1,c=(1<<s)-1,u=c>>1,h=-7,l=n?a-1:0,d=n?-1:1,p=t[e+l];for(l+=d,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+t[e+l],l+=d,h-=8);for(r=o&(1<<-h)-1,o>>=-h,h+=i;h>0;r=256*r+t[e+l],l+=d,h-=8);if(0===o)o=1-u;else{if(o===c)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,i),o-=u}return(p?-1:1)*r*Math.pow(2,o-i)},e.write=function(t,e,n,i,a,o){var r,s,c,u=8*o-a-1,h=(1<<u)-1,l=h>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,r=h):(r=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-r))<1&&(r--,c*=2),(e+=r+l>=1?d/c:d*Math.pow(2,1-l))*c>=2&&(r++,c/=2),r+l>=h?(s=0,r=h):r+l>=1?(s=(e*c-1)*Math.pow(2,a),r+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,a),r=0));a>=8;t[n+p]=255&s,p+=f,s/=256,a-=8);for(r=r<<a|s,u+=a;u>0;t[n+p]=255&r,p+=f,r/=256,u-=8);t[n+p-f]|=128*g}},"7xR8":function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("iNHa"),a=n("6LcQ"),o=n("5RIO");function r(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),a=(t=s(t,i)).write(e,n);a!==i&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function y(t,e,n,i,a){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,a);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,a);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,a){var o,r=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;r=2,s/=2,c/=2,n/=2}function u(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(a){var h=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*r}else-1!==h&&(o-=o-h),h=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var l=!0,d=0;d<c;d++)if(u(t,o+d)!==u(e,d)){l=!1;break}if(l)return o}return-1}function m(t,e,n,i){n=Number(n)||0;var a=t.length-n;i?(i=Number(i))>a&&(i=a):i=a;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var r=0;r<i;++r){var s=parseInt(e.substr(2*r,2),16);if(isNaN(s))return r;t[n+r]=s}return r}function w(t,e,n,i){return j(U(e,t.length-n),t,n,i)}function _(t,e,n,i){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function D(t,e,n,i){return _(t,e,n,i)}function C(t,e,n,i){return j(G(e),t,n,i)}function b(t,e,n,i){return j(function(t,e){for(var n,i,a,o=[],r=0;r<t.length&&!((e-=2)<0);++r)n=t.charCodeAt(r),i=n>>8,a=n%256,o.push(a),o.push(i);return o}(e,t.length-n),t,n,i)}function T(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var i=[],a=e;a<n;){var o,r,s,c,u=t[a],h=null,l=u>239?4:u>223?3:u>191?2:1;if(a+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[a+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=t[a+1],r=t[a+2],128==(192&o)&&128==(192&r)&&(c=(15&u)<<12|(63&o)<<6|63&r)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=t[a+1],r=t[a+2],s=t[a+3],128==(192&o)&&128==(192&r)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&r)<<6|63&s)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),a+=l}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=A));return n}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return h(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,a=0,o=Math.min(n,i);a<o;++a)if(t[a]!==e[a]){n=t[a],i=e[a];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var r=t[n];if(!c.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,a),a+=r.length}return i},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,a){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),e<0||n>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&e>=n)return 0;if(i>=a)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var o=a-i,r=n-e,s=Math.min(o,r),u=this.slice(i,a),h=t.slice(e,n),l=0;l<s;++l)if(u[l]!==h[l]){o=u[l],r=h[l];break}return o<r?-1:r<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return D(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function x(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(127&t[a]);return i}function S(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(t[a]);return i}function B(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var a="",o=e;o<n;++o)a+=Y(t[o]);return a}function E(t,e,n){for(var i=t.slice(e,n),a="",o=0;o<i.length;o+=2)a+=String.fromCharCode(i[o]+256*i[o+1]);return a}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,n,i,a,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function k(t,e,n,i){e<0&&(e=65535+e+1);for(var a=0,o=Math.min(t.length-n,2);a<o;++a)t[n+a]=(e&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function R(t,e,n,i){e<0&&(e=4294967295+e+1);for(var a=0,o=Math.min(t.length-n,4);a<o;++a)t[n+a]=e>>>8*(i?a:3-a)&255}function L(t,e,n,i,a,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,i,o){return o||L(t,0,n,4),a.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,o){return o||L(t,0,n,8),a.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var a=e-t;n=new c(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],a=1,o=0;++o<e&&(a*=256);)i+=this[t+o]*a;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t+--e],a=1;e>0&&(a*=256);)i+=this[t+--e]*a;return i},c.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],a=1,o=0;++o<e&&(a*=256);)i+=this[t+o]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=e,a=1,o=this[t+--i];i>0&&(a*=256);)o+=this[t+--i]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),a.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),a.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),a.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),a.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||$(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,o=0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=t/a&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||$(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var a=Math.pow(2,8*n-1);$(this,t,e,n,a-1,-a)}var o=0,r=1,s=0;for(this[e]=255&t;++o<n&&(r*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var a=Math.pow(2,8*n-1);$(this,t,e,n,a-1,-a)}var o=n-1,r=1,s=0;for(this[e+o]=255&t;--o>=0&&(r*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var a,o=i-n;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var r=c.isBuffer(t)?t:U(new c(t,i).toString()),s=r.length;for(o=0;o<n-e;++o)this[o+e]=r[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var i=t.length,a=null,o=[],r=0;r<i;++r){if((n=t.charCodeAt(r))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(r+1===i){(e-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,i){for(var a=0;a<i&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}}).call(e,n("9AUj"))},"9+Lw":function(t,e,n){"use strict";var i=n("3cXf"),a=n.n(i),o=n("AAo7"),r=n("0xDb"),s={data:function(){return{gettingCodeTag:!1,loginData:{phone:"",smsCode:""},count:60,showCodeBox:!0,guestData:Object(r.f)()}},computed:{exitGameBox:function(){return this.$store.state.game.exitlayer.show}},methods:{preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},checkPhoneNum:function(){var t=!1;return this.loginData.phone?r.b.check("mobile",this.loginData.phone)?t=!0:this.$toast("手机号码格式不正确"):this.$toast("请输入手机号码"),t},getSmsCode:function(){this.checkPhoneNum()&&this.getIdentiCode()},getIdentiCode:function(){var t=this;if(!this.gettingCodeTag){this.gettingCodeTag=!0;var e={phone:this.loginData.phone,channel:$GLOBAL_CONST.channel};this.$api.decipherPost(o.a.SMSCODE,e,function(e){t.gettingCodeTag=!1,t.showCodeBox=!1;var n=t.count;!function e(){var i=setTimeout(e,1e3);t.count--,0==t.count&&(clearTimeout(i),t.showCodeBox=!0,t.count=n)}()},function(){t.gettingCodeTag=!1,t.showCodeBox=!0,t.$toast("系统君抽风，请稍候再来骚扰")})}},login:function(){var t=this;if(this.loginData.phone)if(r.b.check("mobile",this.loginData.phone))if(this.loginData.smsCode)if(r.b.check("smsCode",this.loginData.smsCode)){var e={phone:this.loginData.phone,code:this.loginData.smsCode,channel:$GLOBAL_CONST.channel};this.guestData&&(e.uid=this.guestData.uid,e.token=this.guestData.token),this.$api.decipherPost(o.a.LOGIN,e,function(e){if(0==e.status&&e.decryptData){r.a.del("TDY_GUESTDATA"),localStorage.removeItem("TDY_GUESTDATA"),r.a.set("TDY_USERINFO",a()(e.decryptData),1728e3),localStorage.setItem("TDY_USERINFO",a()(e.decryptData)),sessionStorage.setItem("TDY_SESSIONID",e.decryptData.sessionId),t.$emit("signin",e.decryptData)}else t.$toast(e.message)},function(){t.$toast("系统君抽风，请稍候再来骚扰")})}else this.$toast("验证码格式不正确");else this.$toast("请输入验证码");else this.$toast("手机号码格式不正确");else this.$toast("请输入手机号码")}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-mask-dialog mt-20",class:{"no-mask":t.exitGameBox},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[n("div",{staticClass:"common-box phone-box",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[n("p",{staticClass:"title"},[t._v("登录游戏")]),t._v(" "),n("div",{staticClass:"content mt30"},[n("i",{staticClass:"icon icon-login-phone"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginData.phone,expression:"loginData.phone",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"tel",placeholder:"请输入手机号码"},domProps:{value:t.loginData.phone},on:{input:function(e){e.target.composing||t.$set(t.loginData,"phone",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"content mt20"},[n("i",{staticClass:"icon icon-login-sms"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginData.smsCode,expression:"loginData.smsCode",modifiers:{trim:!0}}],staticClass:"smscode",attrs:{maxlength:"6",type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.loginData.smsCode},on:{input:function(e){e.target.composing||t.$set(t.loginData,"smsCode",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.showCodeBox?n("a",{staticClass:"text",on:{click:t.getSmsCode}},[t._v("发送验证码")]):n("a",{staticClass:"text disabled"},[t._v(t._s(t.count)+"秒后重新发送")])]),t._v(" "),n("a",{staticClass:"login-btn",on:{click:function(e){return e.stopPropagation(),t.login(e)}}},[t._v("登录")])])])},staticRenderFns:[]};var u=n("vSla")(s,c,!1,function(t){n("hMef")},"data-v-32f77653",null);e.a=u.exports},BLkF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n("a3Yh"),o=n.n(a),r=n("AAo7"),s=(n("P6uy"),n("0xDb")),c=n("1J4J"),u=n.n(c),h=(n("vMSM"),n("Kww8"),n("MTC2")),l=n("4j5g"),d=n("PDv1"),p=n("1oGQ"),f={data:function(){return{payMode:"wallt",showProxyLayer:!1,pay_mweb_url:"",isInWX:$GLOBAL_CONST.isInWX,orderInfoloadedTag:0,alipayHtml:"",userData:{token:"",user:{uid:""}},guestData:Object(s.f)(),order:{amount:"",amountFormat:"",out_order_name:""},count:2,payid:"",payStatus:"100",showPayWalletBox:!1,showSetPsdBox:!1,checkPayResultTimer:null,payCheckOver:!1,refreshTimer:null,showLoginMode:!1,walltNotEnoughTag:!1,isLYChannel:$GLOBAL_CONST.isLYChannel}},components:{"login-mode-dialog":h.a,"set-psd-dialog":p.a,"pay-layer":l.a,"pay-mode":d.a},watch:{showProxyLayer:function(t){t?(this.checkPayResult(),this.reFreshPayResult()):this.checkPayResultTimer&&clearInterval(this.checkPayResultTimer)}},destroyed:function(){this.checkPayResultTimer&&clearInterval(this.checkPayResultTimer),this.refreshTimer&&clearInterval(this.refreshTimer)},created:function(){this.payid=this.$route.query.prepay_id;var t="";if(this.guestData?this.payMode="wx":(t=s.a.get("TDY_USERINFO")||localStorage.getItem("TDY_USERINFO"),this.userData=JSON.parse(t)),this.isLYChannel&&(this.payMode="wx"),$GLOBAL_CONST.isLYChannel){var e={uid:this.userData.user.id,token:this.userData.token,prepay_id:this.payid};window.parent.TDYProxy.startPay(e)&&this.jumpToResult()}},mounted:function(){var t=this;this.payid?(this.$indicator.open(),this.$nextTick(function(){t.removeAdsNode()}),this.getOrder()):this.$toast("订单号不能为空！")},methods:(i={jumpToResult:function(){var t=window.location.origin+"/result?channel="+$GLOBAL_CONST.channel+"&order_no="+this.payid+"&pay_type=LianYun";/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/result?channel="+$GLOBAL_CONST.channel+"&order_no="+this.payid+"&pay_type=LianYun"),window.location.href=t},reFreshPayResult:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.payid,pay_type:"wallt"==this.payMode?3:"ali"==this.payMode?1:"wx"==this.payMode?2:4,trade_type:3},n=0;this.refreshTimer=setInterval(function(){n++,t.$api.decipherPost(r.a.CHECKRESULT,e,function(e){(n>=25||t.payCheckOver)&&t.refreshTimer&&clearInterval(t.refreshTimer)})},3e3)},checkPayResult:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.payid,pay_type:"wallt"==this.payMode?3:"ali"==this.payMode?1:"wx"==this.payMode?2:4,trade_type:3};this.$api.decipherPost(r.a.CHECKRESULT,e,function(e){var n=0;t.checkPayResultTimer=setInterval(function(){n++,t.checkOrderStatus(function(e){(1==e||n>=50)&&(clearInterval(t.checkPayResultTimer),t.payStatus=e,t.payCheckOver=!0,t.guestData||t.jumpOtherPage())})},1500)})},checkOrderStatus:function(t){var e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.payid};this.$api.decipherPost(r.a.FINDPAYORDER,e,function(e){var n=null;e.decryptData&&(n=e.decryptData.order.tally_status),t&&t(n)})},jumpOtherPage:function(){var t=this;setInterval(function(){t.count--,0===t.count&&t.backGame()},1e3)},backGame:function(){var t=s.a.get("TDYCURGID");if(t&&t.length){var e={_tdygid:t,channel:$GLOBAL_CONST.channel};Object(s.k)(e)}else this.backToPersonal()},backToPersonal:function(){var t={channel:$GLOBAL_CONST.channel};this.$router.push({path:"/personal",query:t})},removeAdsNode:function(){var t=document.getElementsByClassName("mint-indicator"),e=null,n=0,i=setInterval(function(){++n>40&&clearInterval(i),t[0].nextSibling&&(clearInterval(i),(e=t[0].nextSibling).style.display="none",document.body.removeChild(e))},100)},getOrder:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.payid||"",id:this.$route.query.id||""};this.$api.decipherPost(r.a.FINDPAYORDER,e,function(e){t.$indicator.close(),0==e.status?(e.decryptData.order.amountFormat=e.decryptData.order.amount/100,e.decryptData.order.balance=e.decryptData.balance,e.decryptData.order.has_pwd=e.decryptData.has_pwd,t.order=e.decryptData.order,t.order.tally_status>0?(1===t.order.tally_status?t.$toast("订单已支付"):t.$toast("订单异常，请在游戏中重新发起订单"),setTimeout(function(){var e={_tdygid:t.order.game_id,channel:$GLOBAL_CONST.channel};Object(s.k)(e)},1e3)):(t.guestData||t.isLYChannel?(t.payMode="wx",t.isInWX&&t.prepayorder()):t.order.amount>Number(t.order.balance)?(t.walltNotEnoughTag=!0,t.payMode="wx",t.isInWX&&t.prepayorder()):t.payMode="wallt",t.orderInfoloadedTag=1)):11111==e.status?t.showLoginMode=!0:t.orderInfoloadedTag=-1},function(){t.orderInfoloadedTag=-1,t.$indicator.close()})},handlerPhoneSign:function(t){this.isSignIn=!0,this.userData=t,s.a.del("TDY_GUESTDATA"),localStorage.removeItem("TDY_GUESTDATA"),this.backGame()},changePayMode:function(t){this.payMode=t},createOrder:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,amount:1,order_name:"消费一分钱",gameid:"test",order_id:u()(),appid:"tdy0ramj2aqnbq5eree"};this.$api.decipherPost(r.a.CREATEPAYORDER,e,function(e){e.decryptData.order.amountFormat=e.decryptData.order.amount/100,t.order=e.decryptData.order})},prepayByH5:function(){var t=this,e=window.location.origin+"/result?channel="+$GLOBAL_CONST.channel;/\/pre/.test(window.location.pathname)&&(e=window.location.origin+"/pre/result?channel="+$GLOBAL_CONST.channel);var n={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.order.order_no,pay_type:"wallt"==this.payMode?3:"ali"==this.payMode?1:"wx"==this.payMode?2:4,order_type:2,openid:this.userData?this.userData.user.openid:"",trade_type:3,show_url:e,redirect_uri:e};"online"!==Object(s.e)()&&"wx"==this.payMode&&(n.ip="182.150.56.177"),this.$api.decipherPost(r.a.PREPAYORDER,n,function(e){0==e.status&&e.body?"wx"==t.payMode&&e.decryptData&&e.decryptData.await?t.wxPrePayAwait(e.decryptData.await_id,function(e){t.$indicator.close(),t.pay_mweb_url=e.mweb_url,t.showProxyLayer=!0,setTimeout(function(){window.location.href=e.mweb_url},100)},function(){t.$indicator.close()}):"ali"==t.payMode&&e.decryptData&&(t.$indicator.close(),t.alipayHtml=e.decryptData.html,t.$nextTick(function(){document.getElementById("alipaysubmitbtn")?document.getElementById("alipaysubmitbtn").click():document.getElementById("alipaysubmit").submit()})):(t.$indicator.close(),t.$toast(e.message))},function(){t.$indicator.close()})},payByAli:function(){var t=this,e=window.location.origin+"/result?channel="+$GLOBAL_CONST.channel;/\/pre/.test(window.location.pathname)&&(e=window.location.origin+"/pre/result?channel="+$GLOBAL_CONST.channel);var n={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.order.order_no,pay_type:1,order_type:2,trade_type:3,show_url:e,redirect_uri:e};this.$api.decipherPost(r.a.PREPAYORDER,n,function(e){t.$indicator.close(),0==e.status&&e.decryptData?(t.alipayHtml=e.decryptData.html,t.$nextTick(function(){document.getElementById("alipaysubmitbtn")?document.getElementById("alipaysubmitbtn").click():document.getElementById("alipaysubmit").submit()})):t.$toast(e.message)},function(){t.$indicator.close()})},prepayByGZH:function(){var t=this,e=this,n={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.order.order_no,pay_type:2,order_type:2,openid:this.userData?this.userData.user.openid:"",trade_type:4};this.$api.decipherPost(r.a.PREPAYORDER,n,function(n){0==n.status&&n.decryptData?t.wxPrePayAwait(n.decryptData.await_id,function(n){function i(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:n.wxJsapiPayInfo.appId,timeStamp:n.wxJsapiPayInfo.timeStamp,nonceStr:n.wxJsapiPayInfo.nonceStr,package:n.wxJsapiPayInfo.package,signType:n.wxJsapiPayInfo.signType,paySign:n.wxJsapiPayInfo.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg&&(e.$toast("支付成功！"),setTimeout(function(){e.backToGame()},1e3))})}t.$indicator.close(),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",i,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",i),document.attachEvent("onWeixinJSBridgeReady",i)):i()},function(){t.$indicator.close()}):(t.$indicator.close(),t.$toast(n.message))},function(){t.$indicator.close()})},prepayorder:function(){if("wallt"==this.payMode)return this.order.has_pwd?void this.prepayByWallt():void(this.showSetPsdBox=!0);this.$indicator.open(),this.isInWX?this.prepayByGZH():"wx"==this.payMode?this.prepayByH5():this.payByAli()},reLoadPage:function(){window.location.reload()}},o()(i,"backToPersonal",function(){var t={channel:$GLOBAL_CONST.channel};this.$router.push({path:"/personal",query:t})}),o()(i,"backToGame",function(){var t=s.a.get("TDYCURGID");if(t&&t.length)if(window.location.href.indexOf("/game/play")>-1)window.location.reload();else{var e={_tdygid:t,channel:$GLOBAL_CONST.channel};Object(s.k)(e)}else this.backToPersonal()}),o()(i,"wxPrePayAwait",function(t,e){var n=this,i={channel:$GLOBAL_CONST.channel,await_id:t,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token};"online"!==Object(s.e)()&&"wx"==this.payMode&&(i.ip="182.150.56.177");var a=null,o=0,c=function(){n.$api.decipherPost(r.a.PREPAYORDERAWAIT,i,function(t){o++,t.decryptData&&t.decryptData.prepay_id&&(a&&clearInterval(a),e&&e(t.decryptData)),o>30&&(n.$indicator.close(),n.$toast("未知错误，请稍后重试"),a&&clearInterval(a))},function(){n.$indicator.close(),a&&clearInterval(a)})};c(),a=setInterval(c,1e3)}),o()(i,"toWalltPage",function(){this.$router.push({path:"/personal/wallt",query:this.$route.query})}),o()(i,"setPsdSuccess",function(){this.showSetPsdBox=!1,this.order.has_pwd=!0}),o()(i,"prepayByWallt",function(){this.showPayWalletBox=!0}),i)},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.orderInfoloadedTag,expression:"orderInfoloadedTag === 1"}]},[n("div",{staticClass:"head-wraper"},[n("i",{staticClass:"icon icon-arrow-l",on:{click:t.backToGame}}),t._v(" "),n("span",[t._v("支付订单")])]),t._v(" "),n("div",{staticClass:"pay-detail-box"},[n("a",{staticClass:"pay-amount"},[t._v("支付金额："),"wallt"!==t.payMode?n("span",[t._v("￥"+t._s(t.order.amountFormat))]):n("span",[t._v(t._s(10*t.order.amountFormat)+"游戏币")])]),t._v(" "),n("p",{staticClass:"payid"},[t._v("订单号："+t._s(t.payid))])]),t._v(" "),n("p",{staticClass:"split-line"}),t._v(" "),1===t.orderInfoloadedTag?n("pay-mode",{attrs:{order:t.order,expense:!0},on:{mode:t.changePayMode}}):t._e(),t._v(" "),n("div",{staticClass:"pay-btn-box"},[n("a",{staticClass:"pay-btn",on:{click:t.prepayorder}},[t._v("立即支付")])]),t._v(" "),n("div",{attrs:{id:"aliPayBox"},domProps:{innerHTML:t._s(t.alipayHtml)}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:-1===t.orderInfoloadedTag,expression:"orderInfoloadedTag === -1"}]},[n("p",{staticClass:"err_tip"},[t._v("请求订单信息失败，请点击"),n("a",{on:{click:t.reLoadPage}},[t._v("刷新")]),t._v("重试，或者点击"),n("a",{on:{click:t.backToGame}},[t._v("返回游戏")]),t._v("继续去攻城掠地吧~")])]),t._v(" "),t.showLoginMode?n("div",{staticClass:"login-mode-layer"},[n("login-mode-dialog",{attrs:{payByLink:"1",responseEvent:!0},on:{hide:function(e){t.showLoginMode=!1},signByPhone:t.handlerPhoneSign}})],1):t._e(),t._v(" "),t.showProxyLayer?n("div",{staticClass:"common-layer"},["100"==t.payStatus?n("div",{staticClass:"pay-status-box"},[n("i",{staticClass:"icon icon-loading"}),t._v(" "),n("p",{staticClass:"tip-text mt10"},[t._v("订单同步中，请稍候…")]),t._v(" "),n("a",{staticClass:"common-btn mt10",attrs:{href:t.pay_mweb_url}},[t._v("打开微信支付")])]):1==t.payStatus?n("div",{staticClass:"pay-status-box"},[n("i",{staticClass:"icon icon-paysuccess"}),t._v(" "),n("p",{staticClass:"tip-text mt10"},[t._v("支付成功")]),t._v(" "),t.guestData?n("p",{staticClass:"login-tip",on:{click:function(e){t.showLoginMode=!0}}},[t._v("立即登录以保存游戏进度")]):t._e()]):3==t.payStatus?n("div",{staticClass:"pay-status-box"},[n("i",{staticClass:"icon icon-payerror"}),t._v(" "),n("p",{staticClass:"tip-text mt10"},[t._v("支付锁定")])]):n("div",{staticClass:"pay-status-box"},[n("i",{staticClass:"icon icon-payerror"}),t._v(" "),n("p",{staticClass:"tip-text mt10"},[t._v("支付失败")])]),t._v(" "),n("a",{staticClass:"fix-bottom",on:{click:t.backGame}},[n("i",{staticClass:"icon icon-arrow-l-w"}),t._v("返回游戏")])]):t._e(),t._v(" "),n("transition",{attrs:{name:"fade2"}},[t.showSetPsdBox?n("div",[n("set-psd-dialog",{on:{success:t.setPsdSuccess,change:function(e){t.showSetPsdBox=!1}}})],1):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade2"}},[t.showPayWalletBox?n("div",{staticClass:"common-bg bgop"},[n("pay-layer",{attrs:{order:t.order},on:{exit:t.backToGame,showSetPwd:function(e){t.showSetPsdBox=!0},change:function(e){t.showPayWalletBox=!1}}})],1):t._e()])],1)},staticRenderFns:[]};var y=n("vSla")(f,g,!1,function(t){n("IC9c")},"data-v-418c9d04",null);e.default=y.exports},Fv0Y:function(t,e,n){(function(t){
/*!
 * urlsafe-base64
 */
e.version="1.0.0",e.encode=function(t){return t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.decode=function(e){return e=(e+=Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new t(e,"base64")},e.validate=function(t){return/^[A-Za-z0-9\-_]+$/.test(t)}}).call(e,n("7xR8").Buffer)},IC9c:function(t,e){},JhHb:function(t,e,n){n("SAFe");var i=n("AKd3").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},Kww8:function(t,e,n){var i,a,o,r,s;i=n("Tzja"),a=n("+72Q").utf8,o=n("5SCX"),r=n("+72Q").bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?r.stringToBytes(t):a.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var n=i.bytesToWords(t),c=8*t.length,u=1732584193,h=-271733879,l=-1732584194,d=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,g=s._gg,y=s._hh,v=s._ii;for(p=0;p<n.length;p+=16){var m=u,w=h,_=l,D=d;h=v(h=v(h=v(h=v(h=y(h=y(h=y(h=y(h=g(h=g(h=g(h=g(h=f(h=f(h=f(h=f(h,l=f(l,d=f(d,u=f(u,h,l,d,n[p+0],7,-680876936),h,l,n[p+1],12,-389564586),u,h,n[p+2],17,606105819),d,u,n[p+3],22,-1044525330),l=f(l,d=f(d,u=f(u,h,l,d,n[p+4],7,-176418897),h,l,n[p+5],12,1200080426),u,h,n[p+6],17,-1473231341),d,u,n[p+7],22,-45705983),l=f(l,d=f(d,u=f(u,h,l,d,n[p+8],7,1770035416),h,l,n[p+9],12,-1958414417),u,h,n[p+10],17,-42063),d,u,n[p+11],22,-1990404162),l=f(l,d=f(d,u=f(u,h,l,d,n[p+12],7,1804603682),h,l,n[p+13],12,-40341101),u,h,n[p+14],17,-1502002290),d,u,n[p+15],22,1236535329),l=g(l,d=g(d,u=g(u,h,l,d,n[p+1],5,-165796510),h,l,n[p+6],9,-1069501632),u,h,n[p+11],14,643717713),d,u,n[p+0],20,-373897302),l=g(l,d=g(d,u=g(u,h,l,d,n[p+5],5,-701558691),h,l,n[p+10],9,38016083),u,h,n[p+15],14,-660478335),d,u,n[p+4],20,-405537848),l=g(l,d=g(d,u=g(u,h,l,d,n[p+9],5,568446438),h,l,n[p+14],9,-1019803690),u,h,n[p+3],14,-187363961),d,u,n[p+8],20,1163531501),l=g(l,d=g(d,u=g(u,h,l,d,n[p+13],5,-1444681467),h,l,n[p+2],9,-51403784),u,h,n[p+7],14,1735328473),d,u,n[p+12],20,-1926607734),l=y(l,d=y(d,u=y(u,h,l,d,n[p+5],4,-378558),h,l,n[p+8],11,-2022574463),u,h,n[p+11],16,1839030562),d,u,n[p+14],23,-35309556),l=y(l,d=y(d,u=y(u,h,l,d,n[p+1],4,-1530992060),h,l,n[p+4],11,1272893353),u,h,n[p+7],16,-155497632),d,u,n[p+10],23,-1094730640),l=y(l,d=y(d,u=y(u,h,l,d,n[p+13],4,681279174),h,l,n[p+0],11,-358537222),u,h,n[p+3],16,-722521979),d,u,n[p+6],23,76029189),l=y(l,d=y(d,u=y(u,h,l,d,n[p+9],4,-640364487),h,l,n[p+12],11,-421815835),u,h,n[p+15],16,530742520),d,u,n[p+2],23,-995338651),l=v(l,d=v(d,u=v(u,h,l,d,n[p+0],6,-198630844),h,l,n[p+7],10,1126891415),u,h,n[p+14],15,-1416354905),d,u,n[p+5],21,-57434055),l=v(l,d=v(d,u=v(u,h,l,d,n[p+12],6,1700485571),h,l,n[p+3],10,-1894986606),u,h,n[p+10],15,-1051523),d,u,n[p+1],21,-2054922799),l=v(l,d=v(d,u=v(u,h,l,d,n[p+8],6,1873313359),h,l,n[p+15],10,-30611744),u,h,n[p+6],15,-1560198380),d,u,n[p+13],21,1309151649),l=v(l,d=v(d,u=v(u,h,l,d,n[p+4],6,-145523070),h,l,n[p+11],10,-1120210379),u,h,n[p+2],15,718787259),d,u,n[p+9],21,-343485551),u=u+m>>>0,h=h+w>>>0,l=l+_>>>0,d=d+D>>>0}return i.endian([u,h,l,d])})._ff=function(t,e,n,i,a,o,r){var s=t+(e&n|~e&i)+(a>>>0)+r;return(s<<o|s>>>32-o)+e},s._gg=function(t,e,n,i,a,o,r){var s=t+(e&i|n&~i)+(a>>>0)+r;return(s<<o|s>>>32-o)+e},s._hh=function(t,e,n,i,a,o,r){var s=t+(e^n^i)+(a>>>0)+r;return(s<<o|s>>>32-o)+e},s._ii=function(t,e,n,i,a,o,r){var s=t+(n^(e|~i))+(a>>>0)+r;return(s<<o|s>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var n=i.wordsToBytes(s(t,e));return e&&e.asBytes?n:e&&e.asString?r.bytesToString(n):i.bytesToHex(n)}},MTC2:function(t,e,n){"use strict";var i=n("AAo7"),a=n("0xDb"),o={components:{"phone-signin-box":n("9+Lw").a},props:["responseEvent","payByLink"],data:function(){return{isOwnClient:$GLOBAL_CONST.isOwnClient,userData:null,showPhoneDialog:!1}},mounted:function(){window.loginCallBack=this.loginCallBack},computed:{exitGameBox:function(){return this.$store.state.game.exitlayer.show}},methods:{loginCallBack:function(t,e,n){if(t&&n){var i=JSON.parse(n);a.a.del("TDY_GUESTDATA"),localStorage.removeItem("TDY_GUESTDATA"),a.a.set("TDY_USERINFO",n,1728e3),localStorage.setItem("TDY_USERINFO",n),sessionStorage.setItem("TDY_SESSIONID",i.sessionId),this.handlerSign&&this.handlerSign(i)}},closeDialog:function(){return this.responseEvent&&this.$emit("hide",!1),!1},preventClick:function(){return!1},hidePhoneDialog:function(t){this.showPhoneDialog=t},toTermPage:function(){var t=this.$route.query,e=Object(a.o)(t),n=window.location.origin+"/personal/agreement"+e;/\/pre/.test(window.location.pathname)&&(n=window.location.origin+"/pre/personal/agreement"+e),window.location.href=n},handlerSign:function(t){this.$toast({message:"登录成功，游戏加载中…",duration:1200}),this.$emit("signByPhone",t)},loginByWX:function(){window.jsInvoke.nativeLogin("wx")},loginByQQ:function(){this.isOwnClient?$GLOBAL_CONST.isOwnClientIos?this.getAuth("qq"):window.jsInvoke.nativeLogin("qq"):this.getAuth("qq")},getAuth:function(t){var e=this;this.$indicator.open();var n=""+this.$route.path,a=encodeURIComponent(n),o=window.location.href.replace(n,"/proxy_qq");-1!==o.indexOf("?")?o+="&fromPage="+a:o+="?fromPage="+a;var r={form:t,channel:$GLOBAL_CONST.channel,redirect_uri:o};this.$api.decipherPost(i.a.AUTHEXCHANGE,r,function(t){e.$indicator.close(),0==t.status?window.location.href=t.decryptData.authorize_url:e.$toast(t.message)},function(){e.$indicator.close(),e.$toast("系统君抽风，请稍候再来骚扰")})},loginByPhone:function(){this.showPhoneDialog=!0}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-mask-dialog login-dialog mt-20",class:{translucence:!t.showPhoneDialog&&!t.exitGameBox},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[n("div",{staticClass:"common-box dialog mt-20",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[t._m(0),t._v(" "),n("div",{staticClass:"mode-body mt34"},[t.isOwnClient?n("a",{staticStyle:{width:"33.2%"},on:{click:t.loginByWX}},[n("i",{staticClass:"icon icon-mode-wx"}),t._v(" "),n("p",{staticClass:"mt8 font12"},[t._v("微信登录")])]):t._e(),t._v(" "),n("a",{class:{width50:!t.isOwnClient},on:{click:t.loginByQQ}},[n("i",{staticClass:"icon icon-mode-qq"}),t._v(" "),n("p",{staticClass:"mt8 font12"},[t._v("QQ登录")])]),t._v(" "),n("a",{class:{width50:!t.isOwnClient},on:{click:t.loginByPhone}},[n("i",{staticClass:"icon icon-mode-p"}),t._v(" "),n("p",{staticClass:"mt8 font12"},[t._v("手机登录")])])]),t._v(" "),n("div",{staticClass:"mode-footer mt45"},[t._v("\n        登录即代表你已经阅读并知晓"),n("span",{staticClass:"ml4",on:{click:t.toTermPage}},[t._v("用户协议")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPhoneDialog,expression:"showPhoneDialog"}]},[n("phone-signin-box",{on:{signin:t.handlerSign,change:t.hidePhoneDialog}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mode-header"},[e("i",{staticClass:"mr8 fl"}),this._v(" "),e("i",{staticClass:"ml8 fr"}),this._v(" "),e("span",[this._v("选择登录方式")])])}]};var s=n("vSla")(o,r,!1,function(t){n("w1tj")},"data-v-8c00a8d4",null);e.a=s.exports},PDv1:function(t,e,n){"use strict";n("AAo7");var i=n("0xDb"),a={props:["order","expense","showTitle"],data:function(){return{isLYChannel:$GLOBAL_CONST.isLYChannel,userData:Object(i.h)(),guestData:Object(i.f)(),walltNotEnoughTag:!1,payMode:"wallt",isInWX:$GLOBAL_CONST.isInWX}},created:function(){this.guestData||this.isLYChannel?this.payMode="wx":this.expense?this.order.amount>Number(this.order.balance)&&(this.walltNotEnoughTag=!0,this.payMode="wx"):this.payMode="wx"},methods:{toWalltPage:function(){var t=window.location.origin+"/personal/wallt?channel="+$GLOBAL_CONST.channel+"&from_game=1";/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/personal/wallt?channel="+$GLOBAL_CONST.channel+"&from_game=1"),window.location.href=t},changePayMode:function(t){"wallt"==t&&this.walltNotEnoughTag||this.payMode!==t&&(this.payMode=t,this.$emit("mode",t))}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-wrapper"},[t.showTitle?n("p",{staticClass:"pay-title"},[t._v("选择支付方式")]):t._e(),t._v(" "),t.guestData||!t.expense||t.isLYChannel?t._e():n("div",{staticClass:"pay-mode-item clearfix",on:{click:function(e){t.changePayMode("wallt")}}},[n("i",{staticClass:"icon icon-wallt-b fl"}),t._v(" "),["wallt"!=t.payMode||t.walltNotEnoughTag?t._e():n("i",{staticClass:"icon icon-gou fr mt4"}),t._v(" "),"wallt"==t.payMode||t.walltNotEnoughTag?t._e():n("i",{staticClass:"unselected fr mt4"}),t._v(" "),t.walltNotEnoughTag?n("i",{staticClass:"not-enough fr mt3",on:{click:t.toWalltPage}},[t._v("充值")]):t._e()],t._v(" "),n("span",{staticClass:"pl8 pt4"},[n("span",[t._v("游戏币支付")]),t._v(" "),[t.walltNotEnoughTag?n("span",{staticClass:"yue"},[t._v("余额不足，请充值")]):n("span",{staticClass:"yue enough"},[t._v("余额："+t._s(""===t.order.balance?"":t.order.balance/10)+"游戏币")])]],2)],2),t._v(" "),n("div",{staticClass:"pay-mode-item clearfix",on:{click:function(e){t.changePayMode("wx")}}},[n("i",{staticClass:"icon icon-wechat-b fl"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"wx"==t.payMode,expression:"payMode == 'wx'"}],staticClass:"icon icon-gou fr mt4"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"wx"!=t.payMode,expression:"payMode != 'wx'"}],staticClass:"unselected fr mt4"}),t._v(" "),n("span",{staticClass:"pl8 pt4"},[t._v("微信支付")])]),t._v(" "),t.isInWX?t._e():n("div",{staticClass:"pay-mode-item clearfix",on:{click:function(e){t.changePayMode("ali")}}},[n("i",{staticClass:"icon icon-zfb-b fl"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"ali"==t.payMode,expression:"payMode == 'ali'"}],staticClass:"icon icon-gou fr mt4"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"ali"!=t.payMode,expression:"payMode != 'ali'"}],staticClass:"unselected fr mt4"}),t._v(" "),n("span",{staticClass:"pl8 pt4"},[t._v("支付宝支付")])])])},staticRenderFns:[]};var r=n("vSla")(a,o,!1,function(t){n("nZE4")},"data-v-e988c5a6",null);e.a=r.exports},SAFe:function(t,e,n){var i=n("FITv");i(i.S+i.F*!n("sjnA"),"Object",{defineProperty:n("lIiZ").f})},Tzja:function(t,e){var n,i;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var a=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?e.push(n.charAt(a>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,a=0;i<t.length;a=++i%4)0!=a&&e.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(t.charAt(i))>>>6-2*a);return e}},t.exports=i},a3Yh:function(t,e,n){"use strict";e.__esModule=!0;var i,a=n("liLe"),o=(i=a)&&i.__esModule?i:{default:i};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},hMef:function(t,e){},iNHa:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],r=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,r)),c=0,h=r>0?i-4:i,l=0;l<h;l+=4)e=a[t.charCodeAt(l)]<<18|a[t.charCodeAt(l+1)]<<12|a[t.charCodeAt(l+2)]<<6|a[t.charCodeAt(l+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===r&&(e=a[t.charCodeAt(l)]<<2|a[t.charCodeAt(l+1)]>>4,s[c++]=255&e);1===r&&(e=a[t.charCodeAt(l)]<<10|a[t.charCodeAt(l+1)]<<4|a[t.charCodeAt(l+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,o=[],r=0,s=n-a;r<s;r+=16383)o.push(h(t,r,r+16383>s?s:r+16383));1===a?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=r.length;s<c;++s)i[s]=r[s],a[r.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var a,o,r=[],s=e;s<n;s+=3)a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(i[(o=a)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return r.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},jpSv:function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,a=n;return a[t[i++]]+a[t[i++]]+a[t[i++]]+a[t[i++]]+"-"+a[t[i++]]+a[t[i++]]+"-"+a[t[i++]]+a[t[i++]]+"-"+a[t[i++]]+a[t[i++]]+"-"+a[t[i++]]+a[t[i++]]+a[t[i++]]+a[t[i++]]+a[t[i++]]+a[t[i++]]}},liLe:function(t,e,n){t.exports={default:n("JhHb"),__esModule:!0}},nZE4:function(t,e){},vMSM:function(t,e,n){t.exports=n("Fv0Y")},w1tj:function(t,e){},wIxz:function(t,e){},zHFW:function(t,e){}});