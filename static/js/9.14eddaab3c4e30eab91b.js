webpackJsonp([9],{"5c/t":function(a,t,s){a.exports=s.p+"static/img/nodata.2c5c3f7.png"},"7QCi":function(a,t){},IHPB:function(a,t,s){"use strict";t.__esModule=!0;var e,i=s("kfHR"),n=(e=i)&&e.__esModule?e:{default:e};t.default=function(a){if(Array.isArray(a)){for(var t=0,s=Array(a.length);t<a.length;t++)s[t]=a[t];return s}return(0,n.default)(a)}},N5pk:function(a,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=s("IHPB"),i=s.n(e),n=s("AAo7"),o=s("0xDb"),r={components:{"pay-item":s("vj7S").a},data:function(){return{dataLoading:!1,allDataLoaded:!1,pageIndex:1,orderList:[],timeoutId:null,loadmoreModule:null,userData:null}},watch:{allDataLoaded:function(a,t){a&&window.removeEventListener("scroll",this.scrollEvent,!1)}},destroyed:function(){window.removeEventListener("scroll",this.scrollEvent,!1)},created:function(){this.userData=Object(o.h)()},mounted:function(){this.getList("firstGet"),this.loadmoreModule=this.$refs.loadmore,window.addEventListener("scroll",this.scrollEvent,!1)},methods:{toParentPage:function(){this.$router.go(-1)},getList:function(a){var t=this;if(!this.dataLoading){this.dataLoading=!0;var s={channel:$GLOBAL_CONST.channel,size:10,page:this.pageIndex,uid:this.userData?this.userData.user.id:"",token:this.userData?this.userData.token:""};s.page<1&&(s.page=1),this.$api.decipherPost(n.a.XIAOFEILIST,s,function(e){t.dataLoading=!1,e.decryptData.orders.length?(t.orderList=[].concat(i()(t.orderList),i()(e.decryptData.orders)),e.decryptData.orders.length<s.size?t.allDataLoaded=!0:(t.allDataLoaded=!1,"firstGet"===a&&t.$nextTick(function(){t.multiGet()}))):t.allDataLoaded=!0},function(){t.dataLoading=!1,t.pageIndex--})}},multiGet:function(){var a=this.loadmoreModule.getBoundingClientRect().top;a&&a<=window.innerHeight-45&&this.loadMore()},loadMore:function(){this.pageIndex++,this.getList()},scrollEvent:function(){this.dataLoading||(this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.multiGet,50))}}},l={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"head-wraper"},[e("i",{staticClass:"icon icon-arrow-l",on:{click:a.toParentPage}}),a._v(" "),e("span",[a._v("消费记录")])]),a._v(" "),e("div",{staticClass:"pay-list-box"},a._l(a.orderList,function(a){return e("pay-item",{key:a.order_no,attrs:{payData:a,payType:1}})})),a._v(" "),e("div",{staticClass:"loadmore-box"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!a.allDataLoaded,expression:"!allDataLoaded"}],ref:"loadmore"},[a.dataLoading?e("div",{staticClass:"load-status"},[e("mt-spinner",{staticClass:"load-icon",attrs:{type:"snake",color:"#26a2ff",size:18}}),a._v(" "),e("span",{staticClass:"loading-text"},[a._v("加载中…")])],1):e("div",{staticClass:"load-status",on:{click:a.loadMore}},[e("p",{staticClass:"nomore"},[a._v("加载更多")])])]),a._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:a.allDataLoaded&&a.orderList.length>0,expression:"allDataLoaded && orderList.length > 0"}],staticClass:"load-status"},[e("p",{staticClass:"nomore"},[a._v("鸭鸭也是有底线的~")])]),a._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:a.allDataLoaded&&!a.orderList.length,expression:"allDataLoaded && !orderList.length"}],staticClass:"load-status"},[e("img",{staticClass:"no-data",attrs:{src:s("5c/t"),alt:""}})])])])},staticRenderFns:[]};var c=s("vSla")(r,l,!1,function(a){s("iBbK")},"data-v-700b5812",null);t.default=c.exports},iBbK:function(a,t){},kfHR:function(a,t,s){a.exports={default:s("qQfv"),__esModule:!0}},kksE:function(a,t,s){"use strict";var e=s("lIiZ"),i=s("go9Q");a.exports=function(a,t,s){t in a?e.f(a,t,i(0,s)):a[t]=s}},qQfv:function(a,t,s){s("IsPG"),s("yrDz"),a.exports=s("AKd3").Array.from},vj7S:function(a,t,s){"use strict";var e=s("0xDb"),i={props:["payType","payData"],data:function(){return{}},computed:{pay_time:function(){return this.payData.pay_time?Object(e.m)(this.payData.pay_time,"{y}-{m}-{d} {h}:{i}"):""}}},n={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"pay-item"},[1==a.payData.tally_status?s("div",{staticClass:"type-xf-box fl"},[s("img",{staticClass:"game-icon",attrs:{src:a.payData.game_icon,alt:""}})]):a._e(),a._v(" "),1==a.payData.recharge_status?s("div",{staticClass:"type-cz-box fl"},[1==a.payData.pay_type?s("i",{staticClass:"icon icon-zfb-b"}):s("i",{staticClass:"icon icon-wechat-b"})]):a._e(),a._v(" "),s("div",{staticClass:"fr",class:{"status-xf-box":1==a.payType,"status-cz-box":!a.payType}},[s("p",{staticClass:"amount"},[a._v(a._s(a.payData.pay_amount/100)+"元")]),a._v(" "),1==a.payType?[0==a.payData.tally_status?s("span",{staticClass:"warn"},[a._v("等待支付")]):a._e(),a._v(" "),1==a.payData.tally_status?s("span",{staticClass:"success"},[a._v("支付成功")]):a._e(),a._v(" "),2==a.payData.tally_status?s("span",{staticClass:"warn"},[a._v("支付失败")]):a._e(),a._v(" "),3==a.payData.tally_status?s("span",{staticClass:"warn"},[a._v("支付锁定")]):a._e(),a._v(" "),-1==a.payData.tally_status?s("span",{staticClass:"warn"},[a._v("未发起支付")]):a._e()]:a._e(),a._v(" "),1!=a.payType?[0==a.payData.recharge_status?s("span",{staticClass:"warn"},[a._v("等待支付")]):a._e(),a._v(" "),1==a.payData.recharge_status?s("span",{staticClass:"success"},[a._v("支付成功")]):a._e(),a._v(" "),2==a.payData.recharge_status?s("span",{staticClass:"warn"},[a._v("支付失败")]):a._e(),a._v(" "),3==a.payData.recharge_status?s("span",{staticClass:"warn"},[a._v("支付锁定")]):a._e(),a._v(" "),-1==a.payData.recharge_status?s("span",{staticClass:"warn"},[a._v("未发起支付")]):a._e()]:a._e()],2),a._v(" "),s("div",{staticClass:"info-box font12"},[s("p",{staticClass:"game-name ellipsis"},[a._v(a._s(a.payData.game_name))]),a._v(" "),s("p",{staticClass:"order-id ellipsis"},[a._v("订单号："+a._s(a.payData.order_no))]),a._v(" "),s("span",{staticClass:"time"},[a._v(a._s(a.pay_time))])])])},staticRenderFns:[]};var o=s("vSla")(i,n,!1,function(a){s("7QCi")},"data-v-72ff3f84",null);t.a=o.exports},yrDz:function(a,t,s){"use strict";var e=s("WwGG"),i=s("FITv"),n=s("OXaN"),o=s("kDTw"),r=s("V2W7"),l=s("CFGK"),c=s("kksE"),d=s("YW8S");i(i.S+i.F*!s("75+0")(function(a){Array.from(a)}),"Array",{from:function(a){var t,s,i,u,p=n(a),v="function"==typeof this?this:Array,_=arguments.length,f=_>1?arguments[1]:void 0,y=void 0!==f,h=0,m=d(p);if(y&&(f=e(f,_>2?arguments[2]:void 0,2)),void 0==m||v==Array&&r(m))for(s=new v(t=l(p.length));t>h;h++)c(s,h,y?f(p[h],h):p[h]);else for(u=m.call(p),s=new v;!(i=u.next()).done;h++)c(s,h,y?o(u,f,[i.value,h],!0):i.value);return s.length=h,s}})}});