webpackJsonp([0],{"+72Q":function(t,e){var a={utf8:{stringToBytes:function(t){return a.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(a.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],a=0;a<t.length;a++)e.push(255&t.charCodeAt(a));return e},bytesToString:function(t){for(var e=[],a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]));return e.join("")}}};t.exports=a},"+8S/":function(t,e,a){var i;function s(t){function a(){if(a.enabled){var t=a,s=+new Date,n=s-(i||s);t.diff=n,t.prev=i,t.curr=s,i=s;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(a,i){if("%%"===a)return a;c++;var s=e.formatters[i];if("function"==typeof s){var n=o[c];a=s.call(t,n),o.splice(c,1),c--}return a}),e.formatArgs.call(t,o),(a.log||e.log||void 0).apply(t,o)}}return a.namespace=t,a.enabled=e.enabled(t),a.useColors=e.useColors(),a.color=function(t){var a,i=0;for(a in t)i=(i<<5)-i+t.charCodeAt(a),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),"function"==typeof e.init&&e.init(a),a}(e=t.exports=s.debug=s.default=s).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var a=("string"==typeof t?t:"").split(/[\s,]+/),i=a.length,s=0;s<i;s++)a[s]&&("-"===(t=a[s].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var a,i;for(a=0,i=e.skips.length;a<i;a++)if(e.skips[a].test(t))return!1;for(a=0,i=e.names.length;a<i;a++)if(e.names[a].test(t))return!0;return!1},e.humanize=a("W3uh"),e.names=[],e.skips=[],e.formatters={}},"/J8a":function(t,e,a){"use strict";var i=a("4YfN"),s=a.n(i),n=a("0xDb"),o={props:["gameData","isFloat"],data:function(){return{loaded:0}},mounted:function(){var t=this,e=this.$refs.gameIcon;e.addEventListener("load",function(){t.loaded=1},!1),e.addEventListener("error",function(){t.loaded=0},!1),e.src=this.gameData.gameIcon},methods:{enterGame:function(){if(Object(n.n)(this.gameData),_czc&&_czc.push(["_trackEvent","进入游戏-"+this.gameData.gameName,"game_"+this.gameData.gameId+"_from_"+$GLOBAL_CONST.channel]),window.jsInvoke&&window.jsInvoke.getEnvironmentInfo&&window.jsInvoke.goToUrlByFullScreen)if(this.gameData.isCP){var t=window.location.origin+"/game/play?_tdygid="+this.gameData.gameId+"&channel="+$GLOBAL_CONST.channel;/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/game/play?_tdygid="+this.gameData.gameId+"&channel="+$GLOBAL_CONST.channel),window.jsInvoke.goToUrlByFullScreen(t)}else window.jsInvoke.goToUrlByFullScreen(this.gameData.gameUrl);else if(this.gameData.isCP)if(this.isFloat){var e={_tdygid:this.gameData.gameId,channel:$GLOBAL_CONST.channel};Object(n.k)(e)}else{var a={_tdygid:this.gameData.gameId},i=s()({},a,this.$route.query);Object(n.k)(i)}else window.location.href=this.gameData.gameUrl},enterGameDetail:function(){if(this.isFloat){var t=window.location.origin+"/game/detail/"+this.gameData.gameId+"/homepage?channel="+$GLOBAL_CONST.channel;return/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/game/detail/"+this.gameData.gameId+"/homepage?channel="+$GLOBAL_CONST.channel),void(window.location.href=t)}this.$router.push({path:"game/detail/"+this.gameData.gameId+this.$route.path,query:this.$route.query})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-item",class:{"float-item":t.isFloat},on:{click:t.enterGame}},[i("div",{staticClass:"icon-box fl"},[t.gameData.gameIsNew?[i("p",{staticClass:"label-new-main"},[t._v("新")])]:t._e(),t._v(" "),i("div",{staticClass:"img-cont",class:{bgw:1==t.loaded}},[i("img",{directives:[{name:"show",rawName:"v-show",value:1==t.loaded,expression:"loaded == 1"}],ref:"gameIcon",staticClass:"game-icon",attrs:{alt:""}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:0==t.loaded,expression:"loaded == 0"}],staticClass:"game-icon_loading",attrs:{src:a("p/op"),alt:""}})])],2),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"info-box"},[i("div",{staticClass:"game-title ellipsis"},[t._v(t._s(t.gameData.gameName)),t.gameData.gameIsCoupon?i("i",{staticClass:"icon icon-gift-s ml8"}):t._e()]),t._v(" "),i("div",{staticClass:"game-intro font12 ellipsis"},[t._v(t._s(t.gameData.gameDesc))]),t._v(" "),i("div",{staticStyle:{"font-size":"0","margin-top":"2px"}},[t.gameData.gameIsFirst?i("i",{staticClass:"tag first"},[t._v("首发")]):t._e(),t._v(" "),t.gameData.gameIsExclusive?i("i",{staticClass:"tag exclusive"},[t._v("独家")]):t._e(),t._v(" "),t.gameData.gameIsHot?i("i",{staticClass:"tag hot"},[t._v("热门")]):t._e(),t._v(" "),t.gameData.gameIsCoupon?i("i",{staticClass:"tag gift"},[t._v("礼包")]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fr mt18"},[e("a",{staticClass:"enter-game font12"},[this._v("开始玩")])])}]};var c=a("vSla")(o,r,!1,function(t){a("Prwu")},"data-v-04c5df98",null);e.a=c.exports},"1oGQ":function(t,e,a){"use strict";var i=a("3cXf"),s=a.n(i),n=a("AAo7"),o=a("0xDb"),r=a("Kww8"),c=a.n(r),l={data:function(){return{userData:Object(o.h)(),psdData:{phone:"",code:"",psd1:"",psd2:""},showCodeBox:!0,count:60,gettingCodeTag:!1}},created:function(){this.psdData.phone=this.userData.user.phone||""},methods:{checkPhoneNum:function(){var t=!1;return this.psdData.phone?o.b.check("mobile",this.psdData.phone)?t=!0:this.$toast("手机号码格式不正确"):this.$toast("请输入手机号码"),t},getCode:function(){this.checkPhoneNum()&&this.getIdentiCode()},getIdentiCode:function(){var t=this;if(!this.gettingCodeTag){this.gettingCodeTag=!0;var e={phone:this.psdData.phone,type:3,channel:$GLOBAL_CONST.channel};this.$api.decipherPost(n.a.SMSCODE,e,function(e){t.gettingCodeTag=!1,t.showCodeBox=!1;var a=t.count;!function e(){var i=setTimeout(e,1e3);t.count--,0==t.count&&(clearTimeout(i),t.showCodeBox=!0,t.count=a)}()},function(){t.gettingCodeTag=!1,t.showCodeBox=!0,t.$toast("系统君抽风，请稍候再来骚扰")})}},preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},checkParams:function(){return this.psdData.phone?o.b.check("mobile",this.psdData.phone)?this.psdData.code?o.b.check("smsCode",this.psdData.code)?this.psdData.psd1&&this.psdData.psd2?this.psdData.psd1!==this.psdData.psd2?(this.$toast("两次输入的密码不一致"),!1):!!o.b.check("psd",this.psdData.psd1)||(this.$toast("密码仅可设置为六位数字"),!1):(this.$toast("密码不能为空"),!1):(this.$toast("验证码格式不正确"),!1):(this.$toast("验证码不能为空"),!1):(this.$toast("手机号码格式不正确"),!1):(this.$toast("手机号码不能为空"),!1)},setPsd:function(){this.checkParams()&&this.setPassword()},setPassword:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.userData.user.id,token:this.userData.token,phone:this.psdData.phone,code:this.psdData.code};this.$api.decipherPost(n.a.BINDPHONE,e,function(e){0==e.status?e.decryptData.bindphone?(t.$toast("请以当前登录的手机号获取验证码"),t.initInfo(e.decryptData.bindphone)):t.setPassword666():t.$toast(e.message)},function(){t.$toast("系统君抽风，请稍候再来骚扰")})},initInfo:function(t){this.psdData.phone=t,this.psdData.code="",this.showCodeBox=!0,this.count=60},setPassword666:function(){var t=this,e={channel:$GLOBAL_CONST.channel,uid:this.userData.user.id,token:this.userData.token,sms_code:this.psdData.code,new_pwd:c()(this.psdData.psd1)};this.$api.decipherPost(n.a.SETPAYPW,e,function(e){if(0==e.status){var a=t.psdData.phone.split("");a.splice(3,4,"****");var i=a.join("");t.userData.user.bindphone=i;var n=s()(t.userData);o.a.set("TDY_USERINFO",n,2592e3),localStorage.setItem("TDY_USERINFO",n),t.$emit("success"),t.$toast("设置支付密码成功")}else t.$toast(e.message)},function(){t.$toast("系统君抽风，请稍候再来骚扰")})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-mask-dialog",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[a("div",{staticClass:"set-psd-box common-box",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[a("p",{staticClass:"title"},[t._v("首次使用余额支付")]),t._v(" "),a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.phone,expression:"psdData.phone",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"tel",placeholder:"输入手机号"},domProps:{value:t.psdData.phone},on:{input:function(e){e.target.composing||t.$set(t.psdData,"phone",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.code,expression:"psdData.code",modifiers:{trim:!0}}],staticClass:"smscode",attrs:{maxlength:"6",type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.psdData.code},on:{input:function(e){e.target.composing||t.$set(t.psdData,"code",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.showCodeBox?a("a",{staticClass:"text",on:{click:t.getCode}},[t._v("发送验证码")]):a("a",{staticClass:"text disabled"},[t._v(t._s(t.count)+"秒后重新发送")])]),t._v(" "),a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.psd1,expression:"psdData.psd1",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"password",placeholder:"设置六位数字支付密码"},domProps:{value:t.psdData.psd1},on:{input:function(e){e.target.composing||t.$set(t.psdData,"psd1",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"content"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.psdData.psd2,expression:"psdData.psd2",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"password",placeholder:"再次输入支付密码"},domProps:{value:t.psdData.psd2},on:{input:function(e){e.target.composing||t.$set(t.psdData,"psd2",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("a",{staticClass:"set-btn",on:{click:t.setPsd}},[t._v("设置密码")])])])},staticRenderFns:[]};var h=a("vSla")(l,d,!1,function(t){a("zHFW")},"data-v-5dd806a9",null);e.a=h.exports},"3JZp":function(t,e,a){t.exports=a.p+"static/img/tdy_text.1cb2d04.png"},"3L6B":function(t,e){},"4j5g":function(t,e,a){"use strict";var i=a("AAo7"),s=a("0xDb"),n=a("Kww8"),o=a.n(n),r={data:function(){return{userData:Object(s.h)(),psdGroup:[],psdArr:[],curIndex:0,number:["1","2","3","4","5","6","7","8","9","","0"]}},props:["order"],watch:{curIndex:function(t){t>5&&this.payByWallet()}},created:function(){this.initPsd()},methods:{init:function(){this.initPsd(),this.psdArr=[],this.curIndex=0},initPsd:function(){this.psdGroup=[];for(var t=0;t<6;t++)this.psdGroup.push({val:""})},preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},inputPsd:function(t,e){9!=e&&(this.curIndex>5||(this.psdArr.push(t),this.psdGroup[this.curIndex].val=t,this.curIndex++))},delPsd:function(){this.curIndex<1||(this.psdArr.pop(),this.psdGroup[this.curIndex-1].val="",this.curIndex--)},findPsd:function(){var t=window.location.origin+"/reset_pw?channel="+$GLOBAL_CONST.channel;/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/reset_pw?channel="+$GLOBAL_CONST.channel),window.location.href=t},payByWallet:function(){var t=this;this.$indicator.open();var e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.order.order_no,pay_type:3,order_type:2,trade_type:0};this.$api.decipherPost(i.a.PREPAYORDER,e,function(e){0==e.status&&e.decryptData&&e.decryptData.prepay_id?t.payWallt(e.decryptData.prepay_id):(t.init(),t.$indicator.close(),t.$toast(e.message))},function(){t.$indicator.close(),t.closeDialog(),t.$toast("网络错误，请检查您的网络")})},payWallt:function(t){var e=this,a={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,prepay_id:t,pay_password:o()(this.psdArr.join(""))};this.$api.decipherPost(i.a.PAYBYWALLT,a,function(t){e.$indicator.close(),e.handlePayRes(t)},function(){e.$indicator.close()})},handlePayRes:function(t){200010==t.status?(this.$emit("exit"),this.$toast("当前支付已过期，请重新下单")):200005==t.status?(this.$emit("exit"),this.$toast("当前订单不存在")):200008==t.status?(this.closeDialog(),this.$toast("游戏币余额不足，请更换支付方式")):200012==t.status?(this.closeDialog(),this.$toast("今日密码错误次数已达上限，请更换其他支付方式")):200009==t.status?(this.init(),this.$emit("showSetPwd"),this.$toast("请先设置游戏币支付密码")):200011==t.status?(this.init(),this.$toast("支付密码错误")):200013==t.status?(this.closeDialog(),this.$toast("游戏币余额发生变动，请重新支付")):(this.$toast("支付成功"),this.$emit("exit"))}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-box"},[a("p",{staticClass:"title"},[a("i",{staticClass:"icon icon-close-p close",on:{click:t.closeDialog}}),t._v("请输入支付密码")]),t._v(" "),a("div",{staticClass:"psd-box clearfix"},t._l(t.psdGroup,function(t,e){return a("input",{key:e,attrs:{type:"password",readonly:""},domProps:{value:t.val}})})),t._v(" "),a("p",{staticClass:"forget"},[a("span",{on:{click:t.findPsd}},[t._v("忘记密码？")])]),t._v(" "),a("ul",{staticClass:"key-box clearfix"},[t._l(t.number,function(e,i){return a("li",{key:i,class:{bginherit:9==i},on:{click:function(a){t.inputPsd(e,i)}}},[t._v(t._s(e))])}),t._v(" "),a("li",{staticStyle:{background:"inherit"},on:{click:t.delPsd}},[a("i",{staticClass:"icon icon-del"})])],2)])},staticRenderFns:[]};var l=a("vSla")(r,c,!1,function(t){a("wIxz")},"data-v-130684f2",null);e.a=l.exports},"5SCX":function(t,e){function a(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(a(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&a(t.slice(0,0))}(t)||!!t._isBuffer)}},"5c/t":function(t,e,a){t.exports=a.p+"static/img/nodata.2c5c3f7.png"},"5sLO":function(t,e){},"6rJY":function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-mask-dialog mt-20",class:{"no-mask":t.exitGameBox},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[a("div",{staticClass:"common-box",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[a("i",{staticClass:"icon icon-gift-close",on:{click:t.closeDialog}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("a",{staticClass:"cdkey"},[t._v(t._s(t.giftData.cdkey))]),t._v(" "),a("a",{ref:"copy",staticClass:"copy mt16",attrs:{"data-clipboard-text":t.giftData.cdkey},on:{click:function(e){return e.stopPropagation(),t.copyCdkey(e)}}},[t._v("复制兑换码")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[e("p",[this._v("礼包兑换码已领取")]),this._v(" "),e("p",[this._v("请复制后在游戏内兑换使用")])])}]};var s=a("vSla")({props:["giftData"],data:function(){return{copyBtn:null}},mounted:function(){this.copyBtn=new this.$clipboard(this.$refs.copy)},computed:{exitGameBox:function(){return this.$store.state.game.exitlayer.show}},methods:{preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},copyCdkey:function(){var t=this;this.copyBtn.on("success",function(){t.$toast({message:"复制成功，请在游戏内兑换",duration:2e3})})}}},i,!1,function(t){a("3L6B")},"data-v-1be47e22",null);e.a=s.exports},"6yg2":function(t,e,a){var i=a("gdV4")("jsonp");t.exports=function(t,e,a){"function"==typeof e&&(a=e,e={});e||(e={});var o,r,c=e.prefix||"__jp",l=e.name||c+s++,d=e.param||"callback",h=null!=e.timeout?e.timeout:6e4,u=encodeURIComponent,g=document.getElementsByTagName("script")[0]||document.head;h&&(r=setTimeout(function(){m(),a&&a(new Error("Timeout"))},h));function m(){o.parentNode&&o.parentNode.removeChild(o),window[l]=n,r&&clearTimeout(r)}return window[l]=function(t){i("jsonp got",t),m(),a&&a(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+d+"="+u(l)).replace("?&","?"),i('jsonp req "%s"',t),(o=document.createElement("script")).src=t,g.parentNode.insertBefore(o,g),function(){window[l]&&m()}};var s=0;function n(){}},"9+Lw":function(t,e,a){"use strict";var i=a("3cXf"),s=a.n(i),n=a("AAo7"),o=a("0xDb"),r={data:function(){return{gettingCodeTag:!1,loginData:{phone:"",smsCode:""},count:60,showCodeBox:!0,guestData:Object(o.f)()}},computed:{exitGameBox:function(){return this.$store.state.game.exitlayer.show}},methods:{preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},checkPhoneNum:function(){var t=!1;return this.loginData.phone?o.b.check("mobile",this.loginData.phone)?t=!0:this.$toast("手机号码格式不正确"):this.$toast("请输入手机号码"),t},getSmsCode:function(){this.checkPhoneNum()&&this.getIdentiCode()},getIdentiCode:function(){var t=this;if(!this.gettingCodeTag){this.gettingCodeTag=!0;var e={phone:this.loginData.phone,channel:$GLOBAL_CONST.channel};this.$api.decipherPost(n.a.SMSCODE,e,function(e){t.gettingCodeTag=!1,t.showCodeBox=!1;var a=t.count;!function e(){var i=setTimeout(e,1e3);t.count--,0==t.count&&(clearTimeout(i),t.showCodeBox=!0,t.count=a)}()},function(){t.gettingCodeTag=!1,t.showCodeBox=!0,t.$toast("系统君抽风，请稍候再来骚扰")})}},login:function(){var t=this;if(this.loginData.phone)if(o.b.check("mobile",this.loginData.phone))if(this.loginData.smsCode)if(o.b.check("smsCode",this.loginData.smsCode)){var e={phone:this.loginData.phone,code:this.loginData.smsCode,channel:$GLOBAL_CONST.channel};this.guestData&&(e.uid=this.guestData.uid,e.token=this.guestData.token),this.$api.decipherPost(n.a.LOGIN,e,function(e){if(0==e.status&&e.decryptData){o.a.del("TDY_GUESTDATA"),localStorage.removeItem("TDY_GUESTDATA"),o.a.set("TDY_USERINFO",s()(e.decryptData),1728e3),localStorage.setItem("TDY_USERINFO",s()(e.decryptData)),sessionStorage.setItem("TDY_SESSIONID",e.decryptData.sessionId),t.$emit("signin",e.decryptData)}else t.$toast(e.message)},function(){t.$toast("系统君抽风，请稍候再来骚扰")})}else this.$toast("验证码格式不正确");else this.$toast("请输入验证码");else this.$toast("手机号码格式不正确");else this.$toast("请输入手机号码")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-mask-dialog mt-20",class:{"no-mask":t.exitGameBox},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[a("div",{staticClass:"common-box phone-box",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[a("p",{staticClass:"title"},[t._v("登录游戏")]),t._v(" "),a("div",{staticClass:"content mt30"},[a("i",{staticClass:"icon icon-login-phone"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginData.phone,expression:"loginData.phone",modifiers:{trim:!0}}],staticClass:"phonenum",attrs:{maxlength:"11",type:"tel",placeholder:"请输入手机号码"},domProps:{value:t.loginData.phone},on:{input:function(e){e.target.composing||t.$set(t.loginData,"phone",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"content mt20"},[a("i",{staticClass:"icon icon-login-sms"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginData.smsCode,expression:"loginData.smsCode",modifiers:{trim:!0}}],staticClass:"smscode",attrs:{maxlength:"6",type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.loginData.smsCode},on:{input:function(e){e.target.composing||t.$set(t.loginData,"smsCode",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.showCodeBox?a("a",{staticClass:"text",on:{click:t.getSmsCode}},[t._v("发送验证码")]):a("a",{staticClass:"text disabled"},[t._v(t._s(t.count)+"秒后重新发送")])]),t._v(" "),a("a",{staticClass:"login-btn",on:{click:function(e){return e.stopPropagation(),t.login(e)}}},[t._v("登录")])])])},staticRenderFns:[]};var l=a("vSla")(r,c,!1,function(t){a("hMef")},"data-v-32f77653",null);e.a=l.exports},E359:function(t,e,a){"use strict";e.e=function(){s(""+o+n+"_gamelist_hot.json?t="+r,c)},e.f=function(){s(""+o+n+"_gamelist_new.json?t="+r,c)},e.c=function(){s(""+o+n+"_gamelist_best.json?t="+r,c)},e.g=function(){s(""+o+n+"_open_server_list.json?t="+r,c)},e.a=function(){s(""+o+n+"_activity_list.json?t="+r,c)},e.b=function(){s(""+o+n+"_banner_list.json?t="+r,c)},e.h=function(){s(""+o+n+"_tag_list.json?t="+r,c)},e.d=function(t){s(""+o+n+"_gamelist_tag_"+t+".json?t="+r,c)};var i=a("0xDb"),s=a("6yg2"),n=$GLOBAL_CONST.channel||"default",o="online"!=Object(i.e)()?"https://youxicdn.tangdaoya.com/test/static/data/":"https://youxicdn.tangdaoya.com/static/data/",r=Object(i.m)(new Date,"{y}{m}{d}{h}"),c={timeout:6e3}},"EOJ/":function(t,e){},Gl1R:function(t,e,a){"use strict";var i={props:["giftData","hideIcon","open","isFloat"],data:function(){return{openGiftCon:!1,scalePer:"0%",loaded:0}},watch:{"giftData.remain":function(t,e){this.initProgress(this.giftData)}},mounted:function(){if(!this.hideIcon){var t=this,e=this.$refs.gameIcon;e.addEventListener("load",function(){t.loaded=1},!1),e.addEventListener("error",function(){t.loaded=0},!1),e.src=this.giftData.gameIcon}this.initProgress(this.giftData),this.hideIcon&&(this.$refs.progress.style.width="48%")},methods:{initProgress:function(t){if(!t.bxl){var e=0;t.total&&(e=Math.ceil(t.remain/t.total*100))>100&&(e=100),this.scalePer=e+"%",this.$refs.progressbar.style.width=this.scalePer}},getGift:function(){this.$emit("getGift",this.giftData)},showGift:function(){this.$emit("showGift",this.giftData)},toGiftDetail:function(){this.open?this.openGiftCon=!this.openGiftCon:this.$router.push({path:"gifts/detail/"+this.giftData.gift_id,query:this.$route.query})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gift-item",class:{"float-item":t.isFloat},on:{click:function(e){return e.stopPropagation(),t.toGiftDetail(e)}}},[t.hideIcon?t._e():i("div",{staticClass:"icon-box fl"},[i("div",{staticClass:"img-cont",class:{bgw:1==t.loaded}},[i("img",{directives:[{name:"show",rawName:"v-show",value:1==t.loaded,expression:"loaded == 1"}],ref:"gameIcon",staticClass:"game-icon",attrs:{alt:""}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:0==t.loaded,expression:"loaded == 0"}],staticClass:"game-icon_loading",attrs:{src:a("p/op"),alt:""}})])]),t._v(" "),i("div",{staticClass:"fr",class:{mt9:t.hideIcon,mt18:!t.hideIcon}},[t.giftData.cdkey?i("a",{staticClass:"common-btn check-btn",on:{click:function(e){return e.stopPropagation(),t.showGift(e)}}},[t._v("查看")]):i("a",{staticClass:"common-btn gift-btn",on:{click:function(e){return e.stopPropagation(),t.getGift(e)}}},[t._v("领取")])]),t._v(" "),i("div",{staticClass:"info-box",class:{"no-icon":t.hideIcon}},[i("p",{staticClass:"title ellipsis"},[t._v(t._s(t.giftData.name))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.openGiftCon,expression:"openGiftCon"}],domProps:{innerHTML:t._s(t.giftData.content)}}),t._v(" "),i("div",{staticClass:"progress-box font12"},[t.giftData.bxl?[i("span",[t._v("礼包剩余：不限量")])]:[i("span",[t._v("礼包剩余")]),t._v(" "),i("span",{ref:"progress",staticClass:"progress clearfix"},[i("span",{ref:"progressbar",attrs:{id:"progress-bar"}})]),t._v(" "),i("span",[t._v(t._s(t.scalePer))])]],2)])])},staticRenderFns:[]};var n=a("vSla")(i,s,!1,function(t){a("5sLO")},"data-v-69740737",null);e.a=n.exports},Kww8:function(t,e,a){var i,s,n,o,r;i=a("Tzja"),s=a("+72Q").utf8,n=a("5SCX"),o=a("+72Q").bin,(r=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?o.stringToBytes(t):s.stringToBytes(t):n(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=i.bytesToWords(t),c=8*t.length,l=1732584193,d=-271733879,h=-1732584194,u=271733878,g=0;g<a.length;g++)a[g]=16711935&(a[g]<<8|a[g]>>>24)|4278255360&(a[g]<<24|a[g]>>>8);a[c>>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var m=r._ff,p=r._gg,f=r._hh,v=r._ii;for(g=0;g<a.length;g+=16){var _=l,w=d,y=h,C=u;d=v(d=v(d=v(d=v(d=f(d=f(d=f(d=f(d=p(d=p(d=p(d=p(d=m(d=m(d=m(d=m(d,h=m(h,u=m(u,l=m(l,d,h,u,a[g+0],7,-680876936),d,h,a[g+1],12,-389564586),l,d,a[g+2],17,606105819),u,l,a[g+3],22,-1044525330),h=m(h,u=m(u,l=m(l,d,h,u,a[g+4],7,-176418897),d,h,a[g+5],12,1200080426),l,d,a[g+6],17,-1473231341),u,l,a[g+7],22,-45705983),h=m(h,u=m(u,l=m(l,d,h,u,a[g+8],7,1770035416),d,h,a[g+9],12,-1958414417),l,d,a[g+10],17,-42063),u,l,a[g+11],22,-1990404162),h=m(h,u=m(u,l=m(l,d,h,u,a[g+12],7,1804603682),d,h,a[g+13],12,-40341101),l,d,a[g+14],17,-1502002290),u,l,a[g+15],22,1236535329),h=p(h,u=p(u,l=p(l,d,h,u,a[g+1],5,-165796510),d,h,a[g+6],9,-1069501632),l,d,a[g+11],14,643717713),u,l,a[g+0],20,-373897302),h=p(h,u=p(u,l=p(l,d,h,u,a[g+5],5,-701558691),d,h,a[g+10],9,38016083),l,d,a[g+15],14,-660478335),u,l,a[g+4],20,-405537848),h=p(h,u=p(u,l=p(l,d,h,u,a[g+9],5,568446438),d,h,a[g+14],9,-1019803690),l,d,a[g+3],14,-187363961),u,l,a[g+8],20,1163531501),h=p(h,u=p(u,l=p(l,d,h,u,a[g+13],5,-1444681467),d,h,a[g+2],9,-51403784),l,d,a[g+7],14,1735328473),u,l,a[g+12],20,-1926607734),h=f(h,u=f(u,l=f(l,d,h,u,a[g+5],4,-378558),d,h,a[g+8],11,-2022574463),l,d,a[g+11],16,1839030562),u,l,a[g+14],23,-35309556),h=f(h,u=f(u,l=f(l,d,h,u,a[g+1],4,-1530992060),d,h,a[g+4],11,1272893353),l,d,a[g+7],16,-155497632),u,l,a[g+10],23,-1094730640),h=f(h,u=f(u,l=f(l,d,h,u,a[g+13],4,681279174),d,h,a[g+0],11,-358537222),l,d,a[g+3],16,-722521979),u,l,a[g+6],23,76029189),h=f(h,u=f(u,l=f(l,d,h,u,a[g+9],4,-640364487),d,h,a[g+12],11,-421815835),l,d,a[g+15],16,530742520),u,l,a[g+2],23,-995338651),h=v(h,u=v(u,l=v(l,d,h,u,a[g+0],6,-198630844),d,h,a[g+7],10,1126891415),l,d,a[g+14],15,-1416354905),u,l,a[g+5],21,-57434055),h=v(h,u=v(u,l=v(l,d,h,u,a[g+12],6,1700485571),d,h,a[g+3],10,-1894986606),l,d,a[g+10],15,-1051523),u,l,a[g+1],21,-2054922799),h=v(h,u=v(u,l=v(l,d,h,u,a[g+8],6,1873313359),d,h,a[g+15],10,-30611744),l,d,a[g+6],15,-1560198380),u,l,a[g+13],21,1309151649),h=v(h,u=v(u,l=v(l,d,h,u,a[g+4],6,-145523070),d,h,a[g+11],10,-1120210379),l,d,a[g+2],15,718787259),u,l,a[g+9],21,-343485551),l=l+_>>>0,d=d+w>>>0,h=h+y>>>0,u=u+C>>>0}return i.endian([l,d,h,u])})._ff=function(t,e,a,i,s,n,o){var r=t+(e&a|~e&i)+(s>>>0)+o;return(r<<n|r>>>32-n)+e},r._gg=function(t,e,a,i,s,n,o){var r=t+(e&i|a&~i)+(s>>>0)+o;return(r<<n|r>>>32-n)+e},r._hh=function(t,e,a,i,s,n,o){var r=t+(e^a^i)+(s>>>0)+o;return(r<<n|r>>>32-n)+e},r._ii=function(t,e,a,i,s,n,o){var r=t+(a^(e|~i))+(s>>>0)+o;return(r<<n|r>>>32-n)+e},r._blocksize=16,r._digestsize=16,t.exports=function(t,e){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var a=i.wordsToBytes(r(t,e));return e&&e.asBytes?a:e&&e.asString?o.bytesToString(a):i.bytesToHex(a)}},LINs:function(t,e){},LuiN:function(t,e){},MTC2:function(t,e,a){"use strict";var i=a("AAo7"),s=a("0xDb"),n={components:{"phone-signin-box":a("9+Lw").a},props:["responseEvent","payByLink"],data:function(){return{isOwnClient:$GLOBAL_CONST.isOwnClient,userData:null,showPhoneDialog:!1}},mounted:function(){window.loginCallBack=this.loginCallBack},computed:{exitGameBox:function(){return this.$store.state.game.exitlayer.show}},methods:{loginCallBack:function(t,e,a){if(t&&a){var i=JSON.parse(a);s.a.del("TDY_GUESTDATA"),localStorage.removeItem("TDY_GUESTDATA"),s.a.set("TDY_USERINFO",a,1728e3),localStorage.setItem("TDY_USERINFO",a),sessionStorage.setItem("TDY_SESSIONID",i.sessionId),this.handlerSign&&this.handlerSign(i)}},closeDialog:function(){return this.responseEvent&&this.$emit("hide",!1),!1},preventClick:function(){return!1},hidePhoneDialog:function(t){this.showPhoneDialog=t},toTermPage:function(){var t=this.$route.query,e=Object(s.o)(t),a=window.location.origin+"/personal/agreement"+e;/\/pre/.test(window.location.pathname)&&(a=window.location.origin+"/pre/personal/agreement"+e),window.location.href=a},handlerSign:function(t){this.$toast({message:"登录成功，游戏加载中…",duration:1200}),this.$emit("signByPhone",t)},loginByWX:function(){window.jsInvoke.nativeLogin("wx")},loginByQQ:function(){this.isOwnClient?$GLOBAL_CONST.isOwnClientIos?this.getAuth("qq"):window.jsInvoke.nativeLogin("qq"):this.getAuth("qq")},getAuth:function(t){var e=this;this.$indicator.open();var a=""+this.$route.path,s=encodeURIComponent(a),n=window.location.href.replace(a,"/proxy_qq");-1!==n.indexOf("?")?n+="&fromPage="+s:n+="?fromPage="+s;var o={form:t,channel:$GLOBAL_CONST.channel,redirect_uri:n};this.$api.decipherPost(i.a.AUTHEXCHANGE,o,function(t){e.$indicator.close(),0==t.status?window.location.href=t.decryptData.authorize_url:e.$toast(t.message)},function(){e.$indicator.close(),e.$toast("系统君抽风，请稍候再来骚扰")})},loginByPhone:function(){this.showPhoneDialog=!0}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-mask-dialog login-dialog mt-20",class:{translucence:!t.showPhoneDialog&&!t.exitGameBox},on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[a("div",{staticClass:"common-box dialog mt-20",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[t._m(0),t._v(" "),a("div",{staticClass:"mode-body mt34"},[t.isOwnClient?a("a",{staticStyle:{width:"33.2%"},on:{click:t.loginByWX}},[a("i",{staticClass:"icon icon-mode-wx"}),t._v(" "),a("p",{staticClass:"mt8 font12"},[t._v("微信登录")])]):t._e(),t._v(" "),a("a",{class:{width50:!t.isOwnClient},on:{click:t.loginByQQ}},[a("i",{staticClass:"icon icon-mode-qq"}),t._v(" "),a("p",{staticClass:"mt8 font12"},[t._v("QQ登录")])]),t._v(" "),a("a",{class:{width50:!t.isOwnClient},on:{click:t.loginByPhone}},[a("i",{staticClass:"icon icon-mode-p"}),t._v(" "),a("p",{staticClass:"mt8 font12"},[t._v("手机登录")])])]),t._v(" "),a("div",{staticClass:"mode-footer mt45"},[t._v("\n        登录即代表你已经阅读并知晓"),a("span",{staticClass:"ml4",on:{click:t.toTermPage}},[t._v("用户协议")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPhoneDialog,expression:"showPhoneDialog"}]},[a("phone-signin-box",{on:{signin:t.handlerSign,change:t.hidePhoneDialog}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mode-header"},[e("i",{staticClass:"mr8 fl"}),this._v(" "),e("i",{staticClass:"ml8 fr"}),this._v(" "),e("span",[this._v("选择登录方式")])])}]};var r=a("vSla")(n,o,!1,function(t){a("w1tj")},"data-v-8c00a8d4",null);e.a=r.exports},PDv1:function(t,e,a){"use strict";a("AAo7");var i=a("0xDb"),s={props:["order","expense","showTitle"],data:function(){return{isLYChannel:$GLOBAL_CONST.isLYChannel,userData:Object(i.h)(),guestData:Object(i.f)(),walltNotEnoughTag:!1,payMode:"wallt",isInWX:$GLOBAL_CONST.isInWX}},created:function(){this.guestData||this.isLYChannel?this.payMode="wx":this.expense?this.order.amount>Number(this.order.balance)&&(this.walltNotEnoughTag=!0,this.payMode="wx"):this.payMode="wx"},methods:{toWalltPage:function(){var t=window.location.origin+"/personal/wallt?channel="+$GLOBAL_CONST.channel+"&from_game=1";/\/pre/.test(window.location.pathname)&&(t=window.location.origin+"/pre/personal/wallt?channel="+$GLOBAL_CONST.channel+"&from_game=1"),window.location.href=t},changePayMode:function(t){"wallt"==t&&this.walltNotEnoughTag||this.payMode!==t&&(this.payMode=t,this.$emit("mode",t))}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-wrapper"},[t.showTitle?a("p",{staticClass:"pay-title"},[t._v("选择支付方式")]):t._e(),t._v(" "),t.guestData||!t.expense||t.isLYChannel?t._e():a("div",{staticClass:"pay-mode-item clearfix",on:{click:function(e){t.changePayMode("wallt")}}},[a("i",{staticClass:"icon icon-wallt-b fl"}),t._v(" "),["wallt"!=t.payMode||t.walltNotEnoughTag?t._e():a("i",{staticClass:"icon icon-gou fr mt4"}),t._v(" "),"wallt"==t.payMode||t.walltNotEnoughTag?t._e():a("i",{staticClass:"unselected fr mt4"}),t._v(" "),t.walltNotEnoughTag?a("i",{staticClass:"not-enough fr mt3",on:{click:t.toWalltPage}},[t._v("充值")]):t._e()],t._v(" "),a("span",{staticClass:"pl8 pt4"},[a("span",[t._v("游戏币支付")]),t._v(" "),[t.walltNotEnoughTag?a("span",{staticClass:"yue"},[t._v("余额不足，请充值")]):a("span",{staticClass:"yue enough"},[t._v("余额："+t._s(""===t.order.balance?"":t.order.balance/10)+"游戏币")])]],2)],2),t._v(" "),a("div",{staticClass:"pay-mode-item clearfix",on:{click:function(e){t.changePayMode("wx")}}},[a("i",{staticClass:"icon icon-wechat-b fl"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"wx"==t.payMode,expression:"payMode == 'wx'"}],staticClass:"icon icon-gou fr mt4"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"wx"!=t.payMode,expression:"payMode != 'wx'"}],staticClass:"unselected fr mt4"}),t._v(" "),a("span",{staticClass:"pl8 pt4"},[t._v("微信支付")])]),t._v(" "),t.isInWX?t._e():a("div",{staticClass:"pay-mode-item clearfix",on:{click:function(e){t.changePayMode("ali")}}},[a("i",{staticClass:"icon icon-zfb-b fl"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"ali"==t.payMode,expression:"payMode == 'ali'"}],staticClass:"icon icon-gou fr mt4"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"ali"!=t.payMode,expression:"payMode != 'ali'"}],staticClass:"unselected fr mt4"}),t._v(" "),a("span",{staticClass:"pl8 pt4"},[t._v("支付宝支付")])])])},staticRenderFns:[]};var o=a("vSla")(s,n,!1,function(t){a("nZE4")},"data-v-e988c5a6",null);e.a=o.exports},Prwu:function(t,e){},TEPV:function(t,e){},Tzja:function(t,e){var a,i;a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],a=0,i=0;a<t.length;a++,i+=8)e[i>>>5]|=t[a]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],a=0;a<32*t.length;a+=8)e.push(t[a>>>5]>>>24-a%32&255);return e},bytesToHex:function(t){for(var e=[],a=0;a<t.length;a++)e.push((t[a]>>>4).toString(16)),e.push((15&t[a]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],a=0;a<t.length;a+=2)e.push(parseInt(t.substr(a,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],n=0;n<4;n++)8*i+6*n<=8*t.length?e.push(a.charAt(s>>>6*(3-n)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,s=0;i<t.length;s=++i%4)0!=s&&e.push((a.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<2*s|a.indexOf(t.charAt(i))>>>6-2*s);return e}},t.exports=i},U3HM:function(t,e){},UfIb:function(t,e,a){t.exports=a.p+"static/img/loadtip.60e87ba.svg"},V0EG:function(t,e){var a,i,s=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(a===setTimeout)return setTimeout(t,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(t){a=n}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var c,l=[],d=!1,h=-1;function u(){d&&c&&(d=!1,c.length?l=c.concat(l):h=-1,l.length&&g())}function g(){if(!d){var t=r(u);d=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];l.push(new m(t,e)),1!==l.length||d||r(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},W3uh:function(t,e){var a=1e3,i=60*a,s=60*i,n=24*s,o=365.25*n;function r(t,e,a){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+a:Math.ceil(t/e)+" "+a+"s"}t.exports=function(t,e){e=e||{};var c,l=typeof t;if("string"===l&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*o;case"days":case"day":case"d":return r*n;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(t);if("number"===l&&!1===isNaN(t))return e.long?r(c=t,n,"day")||r(c,s,"hour")||r(c,i,"minute")||r(c,a,"second")||c+" ms":function(t){if(t>=n)return Math.round(t/n)+"d";if(t>=s)return Math.round(t/s)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=a)return Math.round(t/a)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},gdV4:function(t,e,a){(function(i){function s(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}(e=t.exports=a("+8S/")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var a=this.useColors;if(t[0]=(a?"%c":"")+this.namespace+(a?" %c":" ")+t[0]+(a?"%c ":" ")+"+"+e.humanize(this.diff),!a)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var s=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(n=++s)}),t.splice(n,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=s,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(s())}).call(e,a("V0EG"))},hMef:function(t,e){},i77g:function(t,e){},"j/SC":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("hRKE"),s=a.n(i),n=a("4YfN"),o=a.n(n),r=a("3cXf"),c=a.n(r),l=a("IenS"),d=a("SJI6"),h=a("AAo7"),u=a("0xDb"),g=a("MTC2"),m=a("E359"),p={data:function(){return{isOtherPlatform:$GLOBAL_CONST.isOtherPlatform,isOwnClient:$GLOBAL_CONST.isOwnClient,bannerLoaded:0,isIOS:Object(u.j)(),curGameId:"",list:[],fromWhichPlatform:1,appLink:"https://youxicdn.tangdaoya.com/package/yaya_android.apk",isInWX:$GLOBAL_CONST.isInWX,isHighVersion:!1,isLowVersion:!1}},props:["config"],created:function(){sessionStorage.getItem("FROM_TDY_PLATFORM")||(this.fromWhichPlatform=2);$GLOBAL_CONST.channel;window.game_list_qry=this.game_list_qry,this.curGameId=this.$route.query._tdygid,this.getGames()},mounted:function(){this.isOwnClient&&(window.jsInvoke.quitGame?this.isHighVersion=!0:this.isLowVersion=!0),this.config.ad_img&&this.initImgHeight()},computed:{classObj:function(){return{pr4:this.config.show_app,width100:!this.config.show_app,bgb:!this.config.show_app}}},methods:{initImgHeight:function(){var t=this.$refs.imgBox;t.style.height=96*t.offsetWidth/300+"px";var e=this,a=this.$refs.gameImg;a.addEventListener("load",function(){e.bannerLoaded=1},!1),a.addEventListener("error",function(){e.bannerLoaded=0},!1),a.src=this.config.ad_img},jumpToHomepage:function(){var t={channel:window.$GLOBAL_CONST.channel};this.$router.push({path:"/homepage",query:t})},quitGame:function(){this.isHighVersion?window.jsInvoke.quitGame():this.isInWX&&"undefined"!=typeof WeixinJSBridge&&2==this.fromWhichPlatform?WeixinJSBridge.call("closeWindow"):window.history.go(-1)},jumpToLoadpage:function(){Object(u.l)(this.$route.query)},loadApp:function(){this.isInWX||this.isIOS?this.jumpToLoadpage():window.location.href=this.config.app_and||this.appLink},game_list_qry:function(t){for(var e=this,a=0;a<t.length&&(t[a].gameId!=this.curGameId&&this.list.length<3&&(t[a].loaded=0,this.list.push(t[a])),!(this.list.length>=3));a++);this.$nextTick(function(){e.loadImg(e.list)})},getGames:function(){Object(m.e)()},enterAdImg:function(){this.config.game_id?this.enterGame(this.config.game_id):this.config.ad_link_url&&(window.location.href=this.config.ad_link_url)},loadImg:function(t){for(var e=function(e){var a=t[e],i=document.getElementById("gameIconImg"+e);i.onload=function(){a.loaded=1},i.onerror=function(){a.loaded=0},i.src=a.gameIcon},a=0;a<t.length;a++)e(a)},preventClick:function(){return!1},closeDialog:function(){this.$emit("change",!1)},enterGame:function(t){var e={_tdygid:t},a=o()({},e,this.$route.query);Object(u.k)(a)}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-mask-dialog exit-dialog",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[i("div",{staticClass:"common-box tip-box",on:{click:function(e){return e.stopPropagation(),t.preventClick(e)}}},[i("i",{staticClass:"icon icon-gift-close",on:{click:t.closeDialog}}),t._v(" "),t.config.show_ad&&t.config.ad_img?i("div",{ref:"imgBox",staticClass:"img-banner",class:{bgw:t.bannerLoaded},on:{click:t.enterAdImg}},[i("img",{directives:[{name:"show",rawName:"v-show",value:1==t.bannerLoaded,expression:"bannerLoaded == 1"}],ref:"gameImg",staticClass:"game-icon",attrs:{alt:""}}),t._v(" "),t.bannerLoaded?t._e():i("img",{staticClass:"game-icon_loading",attrs:{src:a("p/op"),alt:""}})]):t._e(),t._v(" "),!t.isOtherPlatform&&t.config.show_texttip?[t.isInWX?i("div",{staticClass:"bundle"},[i("p",{staticClass:"sub"},[t._v("点击右上角 > 点击“收藏”")]),t._v(" "),i("p",{staticClass:"sub"},[t._v("方便下次找到游戏哦！")])]):t._e(),t._v(" "),!t.isInWX&&t.isIOS?i("div",{staticClass:"bundle"},[t._m(0),t._v(" "),i("p",{staticClass:"sub"},[t._v("无需下载安装，即点即玩！")])]):t._e(),t._v(" "),t.isInWX||t.isIOS?t._e():i("div",{staticClass:"bundle"},[i("p",{staticClass:"sub"},[t._v("点击工具栏 > 添加到首页/桌面快捷方式")]),t._v(" "),i("p",{staticClass:"sub"},[t._v("无需下载安装，即点即玩！")])])]:t._e(),t._v(" "),t.config.show_mq_qr?i("div",{staticClass:"bundle"},[t.config.mp_qr?i("img",{staticClass:"qrcode",attrs:{src:t.config.mp_qr}}):i("img",{staticClass:"qrcode",attrs:{src:a("jWhC")}}),t._v(" "),i("div",{staticClass:"mp-tip-box"},[i("p",{staticClass:"sub sub-2"},[t._v("更便捷地找到游戏")]),t._v(" "),t.config.mp_name?i("p",{staticClass:"sub sub-2"},[t._v("推荐关注 "),i("span",[t._v(t._s(t.config.mp_name))]),t._v(" 公众号")]):i("p",{staticClass:"sub sub-2"},[t._v("推荐关注 "),i("span",[t._v("躺倒鸭游戏")]),t._v(" 公众号")])])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.config.show_gamelist&&t.list.length,expression:"config.show_gamelist && list.length"}],staticClass:"moregame-wraper"},[i("p",{staticClass:"title"},[t._v("更多好玩，不容错过")]),t._v(" "),t._l(t.list,function(e,s){return i("a",{key:e.gameId+s,staticClass:"game-item",on:{click:function(a){t.enterGame(e.gameId)}}},[i("div",{staticClass:"img-cont",class:{bgw:1==e.loaded}},[i("img",{directives:[{name:"show",rawName:"v-show",value:1==e.loaded,expression:"item.loaded == 1"}],staticClass:"img",attrs:{id:"gameIconImg"+s,alt:""}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:0==e.loaded,expression:"item.loaded == 0"}],staticClass:"img_loading",attrs:{src:a("p/op"),alt:""}})]),t._v(" "),i("div",{staticClass:"game-name ellipsis"},[t._v(t._s(e.gameName))])])}),t._v(" "),i("a",{staticClass:"game-item",on:{click:t.jumpToHomepage}},[t._m(1),t._v(" "),i("div",{staticClass:"game-name ellipsis"},[t._v("更多游戏")])])],2),t._v(" "),i("div",{staticClass:"btn-wraper"},[1===t.fromWhichPlatform||t.isInWX||t.isOwnClient&&!t.isLowVersion?i("div",{class:t.classObj},[i("a",{staticClass:"com-btn exit-btn",class:{bgb:!t.config.show_app},on:{click:t.quitGame}},[t._v("退出游戏")])]):t._e(),t._v(" "),t.config.show_app?i("div",{staticClass:"pl4"},[i("a",{staticClass:"com-btn",on:{click:t.loadApp}},[t._v("下载App("+t._s(t.config.app_size||3)+"M)")])]):t._e(),t._v(" "),1===t.fromWhichPlatform||t.isInWX||t.isOwnClient&&!t.isLowVersion?i("p",{staticClass:"tip"},[t._v("再次点击返回键也可退出游戏")]):i("p",{staticClass:"tip"},[t._v("再次点击返回键退出游戏")])])],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"sub"},[this._v("点击“"),e("i",{staticClass:"icon icon-iphone-save"}),this._v("” > 点击“添加到主屏幕 "),e("i",{staticClass:"icon icon-iphone-add"}),this._v("”")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-cont bgw"},[e("i",{staticClass:"icon icon-moregame"})])}]};var v=a("vSla")(p,f,!1,function(t){a("EOJ/")},"data-v-6b18eda5",null).exports,_=a("Gl1R"),w=a("6rJY"),y={components:{"gift-item":_.a,"gift-dialog":w.a},data:function(){return{giftList:[],showGiftDialog:!1,dataLoading:!1,allDataLoaded:!1,giftData:{},userData:null,gameId:""}},created:function(){this.gameId=this.$route.query._tdygid,this.userData=Object(u.h)()},mounted:function(){this.getGiftList(this.gameId)},methods:{hideGiftDialog:function(t){this.showGiftDialog=t},getCurGift:function(t){var e=this;if(this.userData){var a={channel:$GLOBAL_CONST.channel,uid:this.userData?this.userData.user.id:"",token:this.userData?this.userData.token:"",gift_id:t.gift_id};this.$api.decipherPost(h.a.GETGIFT,a,function(a){switch(a.status){case 300001:e.$toast("礼包已下线");break;case 300002:e.$toast("礼包未开放领取");break;case 300003:e.$toast("礼包已领完");break;case 300004:e.$toast("领取礼包失败");break;default:a.decryptData&&a.decryptData.item?(e.giftData=t,e.giftData.cdkey=a.decryptData.item.cdkey,e.showGiftDialog=!0,e.giftData.remain-=1,e.giftData.remain<0&&(e.giftData.remain=0)):e.$toast("领取礼包失败")}})}else this.$emit("showLoginBox",!0)},showGift:function(t){this.giftData=t,this.showGiftDialog=!0},getGiftList:function(t){var e=this,a={channel:$GLOBAL_CONST.channel,size:100,page:1,gameId:t||this.gameId,uid:this.userData?this.userData.user.id:"",token:this.userData?this.userData.token:""};this.dataLoading=!0,this.$api.decipherPost(h.a.GETGIFTBYNAMELIST,a,function(t){e.allDataLoaded=!0,e.dataLoading=!1,t.decryptData&&(e.giftList=t.decryptData.gifts)},function(){e.dataLoading=!1,e.allDataLoaded=!0})}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gift-wraper"},[i("div",{staticClass:"gift-main"},[t._l(t.giftList,function(e,a){return i("gift-item",{key:"gift"+a,attrs:{giftData:e,hideIcon:!0,isFloat:!0,open:!0},on:{showGift:t.showGift,getGift:t.getCurGift}})}),t._v(" "),i("div",{staticClass:"loadmore-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.allDataLoaded,expression:"!allDataLoaded"}]},[t.dataLoading?i("div",{staticClass:"load-status"},[i("mt-spinner",{staticClass:"load-icon",attrs:{type:"snake",color:"#26a2ff",size:18}}),t._v(" "),i("span",{staticClass:"loading-text"},[t._v("加载中…")])],1):i("div",{staticClass:"load-status",on:{click:t.getGiftList}},[i("p",{staticClass:"nomore"},[t._v("加载更多")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.allDataLoaded&&t.giftList.length>0,expression:"allDataLoaded && giftList.length > 0"}],staticClass:"load-status"},[i("p",{staticClass:"nomore"},[t._v("鸭鸭也是有底线的~")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.allDataLoaded&&!t.giftList.length,expression:"allDataLoaded && !giftList.length"}],staticClass:"load-status"},[i("img",{staticClass:"no-data",attrs:{src:a("5c/t"),alt:""}})])])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showGiftDialog,expression:"showGiftDialog"}]},[i("gift-dialog",{attrs:{giftData:t.giftData},on:{change:t.hideGiftDialog}})],1)])},staticRenderFns:[]};var D=a("vSla")(y,C,!1,function(t){a("LuiN")},"data-v-099e0f43",null).exports,b={data:function(){return{serverTime:"",dataList:{0:[],1:[]}}},computed:{hasServerInfo:function(){return this.dataList[0].length||this.dataList[1].length}},created:function(){this.gameId=this.$route.query._tdygid,window.channel_open_server_list=this.channel_open_server_list,Object(m.g)()},methods:{channel_open_server_list:function(t){var e=this;this.serverTime=Date.now();var a=[],i=[];t.forEach(function(t){t.game_id===e.gameId&&(t.open_time2=Object(u.c)(t.open_time),t.open_time>e.serverTime?a.push(t):i.push(t))}),a.sort(function(t,e){return t.open_time-e.open_time}),this.dataList[0]=a,this.dataList[1]=i}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"server-wraper"},[t.hasServerInfo?[t._l(t.dataList[1],function(e,i){return a("div",{key:e.open_time,staticClass:"item-wraper font12"},[a("a",{staticClass:"circle fl"},[a("i",{staticClass:"bg"}),t._v(" "),i?a("i",{staticClass:"line-t"}):t._e(),t._v(" "),t.dataList[0].length||!t.dataList[0].length&&i!==t.dataList[1].length-1?a("i",{staticClass:"line-b"}):t._e()]),t._v(" "),a("span",{staticClass:"fr area"},[t._v(t._s(e.server_name))]),t._v(" "),a("div",{staticClass:"time ellipsis"},[t._v(t._s(e.open_time2))])])}),t._v(" "),t._l(t.dataList[0],function(e,i){return a("div",{key:e.open_time,staticClass:"item-wraper font12 will"},[a("i",{staticClass:"circle fl"},[t.dataList[1].length||i?a("i",{staticClass:"line-t"}):t._e(),t._v(" "),i!==t.dataList[0].length-1?a("i",{staticClass:"line-b"}):t._e()]),t._v(" "),a("span",{staticClass:"fr area"},[t._v(t._s(e.server_name))]),t._v(" "),a("div",{staticClass:"time ellipsis"},[t._v(t._s(e.open_time2))])])})]:[t._m(0)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loadmore-box"},[e("div",{staticClass:"load-status"},[e("img",{staticClass:"no-data",attrs:{src:a("5c/t"),alt:""}})])])}]};var L=a("vSla")(b,I,!1,function(t){a("vULH")},"data-v-17ebe766",null).exports,T={components:{"game-item":a("/J8a").a},data:function(){return{jsonApi:{},dataLoading:!1,allDataLoaded:!1,dataList:[],gameId:""}},created:function(){this.gameId=this.$route.query._tdygid,this.jsonApi={getHotList:m.e},window.game_list_qry=this.game_list_qry},mounted:function(){Object(m.e)()},methods:{game_list_qry:function(t){var e=this;this.dataLoading=!1,this.allDataLoaded=!0;var a=t.filter(function(t){return t.gameId!==e.gameId});a.length&&(this.dataList=a)}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more-wraper"},[this._l(this.dataList,function(t,a){return e("game-item",{key:t.gameId+a,attrs:{isFloat:!0,gameData:t}})}),this._v(" "),this._m(0)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loadmore-box"},[e("div",{staticClass:"load-status"},[e("p",{staticClass:"nomore"},[this._v("鸭鸭也是有底线的~")])])])}]};var k={data:function(){return{config:null,contact_info:[],copyEle:[]}},created:function(){this.config=Object(u.d)(),this.contact_info=this.config.contact_info},mounted:function(){var t=this;this.contact_info.forEach(function(e,a){t.copyEle[a]=new t.$clipboard(t.$refs["copy"+a][0])})},methods:{copy:function(t,e){var a=this;this.copyEle[t].on("success",function(){a.$toast({message:"复制 "+e.name+" 成功",duration:2e3})})}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cus-wraper custom-list-wraper"},[t._l(t.contact_info,function(e,a){return i("div",{key:e.value,ref:"copy"+a,refInFor:!0,staticClass:"list-item",attrs:{"data-clipboard-text":e.value},on:{click:function(i){t.copy(a,e)}}},[e.icon?i("i",{staticClass:"fl icon-wraper"},[i("img",{attrs:{src:e.icon,alt:""}})]):t._e(),t._v(" "),i("a",{staticClass:"fr mr4"},[t._v(t._s(e.value))]),t._v(" "),i("div",{staticClass:"ellipsis"},[t._v(t._s(e.name))])])}),t._v(" "),i("div",{staticClass:"mt20",staticStyle:{"text-align":"center"}},[t.config.mp_qr?i("img",{staticClass:"qrcode",attrs:{src:t.config.mp_qr}}):i("img",{staticClass:"qrcode",attrs:{src:a("jWhC")}}),t._v(" "),i("div",{staticClass:"desc"},[i("p",[t._v("关注“"+t._s(t.config.mp_name||"躺倒鸭游戏")+"”公众号，领取豪华大礼包！")])])])],2)},staticRenderFns:[]};var O={components:{"float-gift":D,"float-server":L,"float-more":a("vSla")(T,x,!1,function(t){a("U3HM")},"data-v-7996136c",null).exports,"float-cus":a("vSla")(k,$,!1,function(t){a("TEPV")},"data-v-647a7abb",null).exports},data:function(){return{isOwnClient:$GLOBAL_CONST.isOwnClient,isThirdPlatform:$GLOBAL_CONST.isThirdPlatform,isLYChannel:$GLOBAL_CONST.isLYChannel,isInWX:$GLOBAL_CONST.isInWX,isOwnChannel:!1,isDXYYT:!1,curTab:"gift",gameLink:"",showShareTip:!1,giftList:[],copyLinkEle:null,userData:{user:{avatar:"",nickname:""}},isIOS:Object(u.j)(),appLink:"https://youxicdn.tangdaoya.com/package/yaya_android.apk",showLoadAppBtn:!0}},props:["gameData","isLowVersion","config"],created:function(){"dxyyt"!==$GLOBAL_CONST.channel&&"dxyytsp"!==$GLOBAL_CONST.channel||(this.isDXYYT=!0),this.showLoadAppBtn=this.config.show_app,this.isOwnChannel=this.config.show_customer_service,this.gameLink=window.location.origin+"/game/play?_tdygid="+this.gameData.gameId+"&channel="+$GLOBAL_CONST.channel,/\/pre/.test(window.location.pathname)&&(this.gameLink=window.location.origin+"/pre/game/play?_tdygid="+this.gameData.gameId+"&channel="+$GLOBAL_CONST.channel),Object(u.h)()&&(this.userData=Object(u.h)())},mounted:function(){this.isInWX||(this.copyLinkEle=new this.$clipboard(this.$refs.copyLink))},methods:{copyLink:function(){var t=this;_czc&&_czc.push(["_trackEvent","悬浮页复制链接分享游戏事件","float_page_share_game_bycopylink"]),this.copyLinkEle.on("success",function(){t.$toast({message:"链接已复制，请粘贴给好友吧",duration:2e3})})},shareGame:function(){_czc&&_czc.push(["_trackEvent","悬浮页微信分享游戏事件","float_page_share_game_byweixin"]),this.isInWX&&this.$emit("share")},closeDialog:function(){this.$emit("close")},jumpToLoadpage:function(){Object(u.l)(this.$route.query)},loadApp:function(){_czc&&_czc.push(["_trackEvent","悬浮页下载APP事件","float_page_load_app"]),this.isInWX||this.isIOS?this.jumpToLoadpage():window.location.href=this.config.app_and||this.appLink},changeAccount:function(){_czc&&_czc.push(["_trackEvent","悬浮页切换账号事件","float_page_change_account"]),this.userData.token?(u.a.del("TDY_USERINFO"),localStorage.removeItem("TDY_USERINFO"),window.jsInvoke&&window.jsInvoke.clearCookie&&window.jsInvoke.clearCookie(),window.location.reload()):this.$emit("showLoginBox",!0)},refresh:function(){_czc&&_czc.push(["_trackEvent","悬浮页刷新游戏事件","float_page_refresh_game"]),window.location.reload()},showLoginBox:function(){_czc&&_czc.push(["_trackEvent","悬浮页立即登录事件","float_page_login"]),this.$emit("showLoginBox",!0)},changeTab:function(t){if(this.curTab!=t){switch(t){case"gift":_czc&&_czc.push(["_trackEvent","悬浮页礼包","float_page_gift"]);break;case"more":_czc&&_czc.push(["_trackEvent","悬浮页更多游戏","float_page_more_game"]);break;case"server":_czc&&_czc.push(["_trackEvent","悬浮页开服信息","float_page_server"]);break;case"cus":_czc&&_czc.push(["_trackEvent","悬浮页客服","float_page_custom"])}this.curTab=t}},settingApp:function(){_czc&&_czc.push(["_trackEvent","点击设置按钮事件","float_page_setting"]),window.jsInvoke&&window.jsInvoke.jumpSettingsPage&&window.jsInvoke.jumpSettingsPage()},exitGame:function(){_czc&&_czc.push(["_trackEvent","点击退出游戏按钮事件","float_page_exit_game"]),window.jsInvoke&&window.jsInvoke.quitGame&&window.jsInvoke.quitGame()},jumpToHomepage:function(){var t={channel:window.$GLOBAL_CONST.channel};this.$router.push({path:"/homepage",query:t})},game_list_qry:function(t){for(var e=this,a=0;a<t.length&&(t[a].gameId!=this.curGameId&&this.list.length<3&&(t[a].loaded=0,this.list.push(t[a])),!(this.list.length>=3));a++);this.$nextTick(function(){e.loadImg(e.list)})}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-container"},[a("div",{staticClass:"float-wraper"},[a("div",{staticClass:"account-box common-box clearfix"},[a("div",{staticClass:"avatar-box fl"},[t.userData.user.avatar?a("img",{attrs:{src:t.userData.user.avatar}}):a("i",{staticClass:"icon icon-avatar"})]),t._v(" "),t.isOwnClient&&!t.isLowVersion?a("div",{staticClass:"fr pl10 mt2"},[a("div",{staticClass:"btn-top",on:{click:t.settingApp}},[a("i",{staticClass:"icon icon-setting"}),t._v(" "),a("p",{staticClass:"num"},[t._v("设置")])]),t._v(" "),a("div",{staticClass:"btn-top",on:{click:t.exitGame}},[a("i",{staticClass:"icon icon-exit"}),t._v(" "),a("p",{staticClass:"num"},[t._v("退出游戏")])])]):t._e(),t._v(" "),a("div",{staticClass:"name ellipsis",class:{pl8:t.userData.token,pl12:!t.userData.token}},[t.userData.token?a("span",[t._v(t._s(t.userData.user.nickname))]):a("a",{staticClass:"not-logged",on:{click:t.showLoginBox}},[t._v("立即登录")])])]),t._v(" "),a("div",{staticClass:"btn-contain common-box"},[t.isThirdPlatform||t.isInWX||t.isLYChannel?t._e():a("div",{staticClass:"pr4",class:{width50:!t.showLoadAppBtn,width33:t.showLoadAppBtn}},[a("a",{staticClass:"acount-btn",on:{click:t.changeAccount}},[a("i",{staticClass:"icon icon-acount"}),t._v(" "),a("span",[t._v("切换账号")])])]),t._v(" "),t.showLoadAppBtn&&!t.isLYChannel?a("div",{class:{width33:t.showLoadAppBtn&&!t.isInWX&&!t.isThirdPlatform,width50:t.isInWX||t.isThirdPlatform}},[a("a",{staticClass:"acount-btn",on:{click:t.loadApp}},[a("i",{staticClass:"icon icon-load-app"}),t._v(" "),a("span",[t._v("下载APP")])])]):t._e(),t._v(" "),a("div",{class:{width50:!t.showLoadAppBtn||t.isInWX||t.isThirdPlatform||t.isLYChannel,width33:t.showLoadAppBtn&&!t.isInWX&&!t.isThirdPlatform&&!t.isLYChannel,pl4:!t.isLYChannel}},[t.isInWX?a("a",{staticClass:"share-btn",on:{click:t.shareGame}},[a("i",{staticClass:"icon icon-share"}),t._v(" "),a("span",[t._v("分享游戏")])]):a("a",{ref:"copyLink",staticClass:"share-btn",attrs:{"data-clipboard-text":t.gameLink},on:{click:t.copyLink}},[a("i",{staticClass:"icon icon-share"}),t._v(" "),a("span",[t._v("分享游戏")])])])]),t._v(" "),a("div",{staticClass:"tab-menu common-box"},[a("a",{class:{selected:"gift"==t.curTab,width33:!t.isOwnChannel||t.isDXYYT},on:{click:function(e){t.changeTab("gift")}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"gift"==t.curTab,expression:"curTab == 'gift'"}],staticClass:"icon icon-gift selected"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"gift"!=t.curTab,expression:"curTab != 'gift'"}],staticClass:"icon icon-gift"}),t._v(" "),a("p",{staticClass:"font12"},[t._v("礼包")])]),t._v(" "),a("a",{class:{selected:"server"==t.curTab,width33:!t.isOwnChannel||t.isDXYYT},on:{click:function(e){t.changeTab("server")}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"server"==t.curTab,expression:"curTab == 'server'"}],staticClass:"icon icon-server selected"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"server"!=t.curTab,expression:"curTab != 'server'"}],staticClass:"icon icon-server"}),t._v(" "),a("p",{staticClass:"font12"},[t._v("开服")])]),t._v(" "),t.isDXYYT?t._e():a("a",{class:{selected:"more"==t.curTab,width33:!t.isOwnChannel},on:{click:function(e){t.changeTab("more")}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"more"==t.curTab,expression:"curTab == 'more'"}],staticClass:"icon icon-more selected"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"more"!=t.curTab,expression:"curTab != 'more'"}],staticClass:"icon icon-more"}),t._v(" "),a("p",{staticClass:"font12"},[t._v("更多游戏")])]),t._v(" "),t.isOwnChannel||t.isDXYYT?a("a",{class:{selected:"cus"==t.curTab,width33:t.isDXYYT},on:{click:function(e){t.changeTab("cus")}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"cus"==t.curTab,expression:"curTab == 'cus'"}],staticClass:"icon icon-cus selected"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"cus"!=t.curTab,expression:"curTab != 'cus'"}],staticClass:"icon icon-cus"}),t._v(" "),a("p",{staticClass:"font12"},[t._v("客服")])]):t._e()]),t._v(" "),a("div",{staticClass:"main-item"},[a("float-gift",{directives:[{name:"show",rawName:"v-show",value:"gift"==t.curTab,expression:"curTab == 'gift'"}],on:{showLoginBox:t.showLoginBox}}),t._v(" "),a("float-server",{directives:[{name:"show",rawName:"v-show",value:"server"==t.curTab,expression:"curTab == 'server'"}]}),t._v(" "),a("float-more",{directives:[{name:"show",rawName:"v-show",value:"more"==t.curTab,expression:"curTab == 'more'"}]}),t._v(" "),t.isOwnChannel?[a("float-cus",{directives:[{name:"show",rawName:"v-show",value:"cus"==t.curTab,expression:"curTab == 'cus'"}]})]:t._e()],2)]),t._v(" "),a("div",{staticClass:"operation"},[a("a",{staticClass:"close-btn",on:{click:t.closeDialog}},[a("i",{staticClass:"icon ic-close-float"}),t._v(" "),t._m(0)]),t._v(" "),a("a",{staticClass:"refresh-btn mt14",on:{click:t.refresh}},[a("i",{staticClass:"icon ic-ref-float"}),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mt3"},[this._v("关"),e("br"),this._v("闭")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mt3"},[this._v("刷"),e("br"),this._v("新"),e("br"),this._v("游"),e("br"),this._v("戏")])}]};var P=a("vSla")(O,S,!1,function(t){a("LINs")},"data-v-5eb7bdec",null).exports,G={props:["isLogin"],data:function(){return{ball:null,curX:0,ballW:0,screenW:0,initInterTimer:null,initOutTimer:null,pos:null,hideTip:!1}},watch:{curX:function(t,e){t<0?(this.ball.style.webkitTransform="rotate(22deg)",this.ball.style.transform="rotate(22deg)"):t>0&&t<=this.screenW-this.ballW?(this.ball.style.webkitTransform="rotate(0deg)",this.ball.style.transform="rotate(0deg)"):t>this.screenW-this.ballW&&(this.ball.style.webkitTransform="rotate(-22deg)",this.ball.style.transform="rotate(-22deg)")}},created:function(){this.hideTip=localStorage.getItem("hideTip");var t=localStorage.getItem("POS");t&&(this.pos=JSON.parse(t))},mounted:function(){var t=this,e=0,a=this.$refs.ball,i=void 0,s=void 0,n=void 0,o=void 0,r=document.body.offsetWidth,l=document.body.offsetHeight,d=a.offsetWidth,h=a.offsetHeight;this.ball=a,this.ballW=a.offsetWidth,this.screenW=document.body.offsetWidth,this.ball.style.left=this.screenW-this.ballW-10+"px",this.initBall(),a.addEventListener("touchstart",function(t){e=0,t.preventDefault(),i=t.touches[0].clientX-this.offsetLeft,s=t.touches[0].clientY-this.offsetTop,t.touches[0].clientX,t.touches[0].clientY},!1),a.addEventListener("touchmove",function(c){t.curX=parseInt(window.getComputedStyle(a,null).left),e=1,n=c.touches[0].clientX-i,o=c.touches[0].clientY-s,n<-d/2?n=-d/2:n>r-d/2&&(n=r-d/2),o<0?o=0:o>l-h&&(o=l-h),this.style.left=n+"px",this.style.top=o+"px"},!1),a.addEventListener("touchend",function(i){if(0===e)_czc&&_czc.push(["_trackEvent","游戏页悬浮球点击事件","float_ball_click"]),t.$emit("show"),t.hideTip=1,localStorage.setItem("hideTip",1);else{t.initInterTimer&&clearInterval(t.initInterTimer),t.initOutTimer&&clearTimeout(t.initOutTimer);var s=n+d/2-r/2<0,o=r-n-d,l=n,h={isInLeftArea:s,top:parseInt(window.getComputedStyle(a,null).top)};localStorage.setItem("POS",c()(h));var u=setInterval(function(){if(s){if((l-=10)<=0)return l=0,a.style.left=-d/2+"px",t.curX=parseInt(window.getComputedStyle(a,null).left),clearInterval(u);a.style.left=l+"px",t.curX=parseInt(window.getComputedStyle(a,null).left)}else{if((o-=10)<=0)return o=0,a.style.left=r-d/2+"px",t.curX=parseInt(window.getComputedStyle(a,null).left),clearInterval(u);a.style.left=r-o-d+"px",t.curX=parseInt(window.getComputedStyle(a,null).left)}},4)}},!1)},methods:{initBall:function(){var t=this;this.pos&&(this.pos.isInLeftArea?this.ball.style.left="10px":this.ball.style.left=this.screenW-this.ballW-10+"px",this.ball.style.top=this.pos.top+"px");var e=parseInt(window.getComputedStyle(this.ball,null).left),a=e+this.ballW/2<this.screenW/2;a||(this.ball.style.webkitTransform="rotate(-22deg)",this.ball.style.transform="rotate(-22deg)"),t.initOutTimer=setTimeout(function(){t.initInterTimer=setInterval(function(){a?((e-=1)<=-t.ballW/2&&clearInterval(t.initInterTimer),t.ball.style.left=e+"px"):((e+=1)>=t.screenW-t.ballW/2&&clearInterval(t.initInterTimer),t.ball.style.left=e+"px")},4)},2e3)}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"ball",staticClass:"b-contain"},[a("i",{staticClass:"icon icon-ball"}),t._v(" "),t.isLogin?t._e():a("i",{staticClass:"text"},[t._v("登录")]),t._v(" "),t.isLogin&&!t.hideTip?a("i",{staticClass:"text"},[t._v("礼包")]):t._e()])},staticRenderFns:[]};var A=a("vSla")(G,B,!1,function(t){a("i77g")},"data-v-1ca64385",null).exports,E=a("4j5g"),N=a("PDv1"),M=a("1oGQ"),j={components:{"login-mode-dialog":g.a,"exit-game-dialog":v,"float-dialog":P,"float-ball":A,"set-psd-dialog":M.a,"pay-layer":E.a,"pay-mode":N.a},data:function(){return{isInWX:$GLOBAL_CONST.isInWX,isOtherPlatform:$GLOBAL_CONST.isOtherPlatform,isOwnClient:$GLOBAL_CONST.isOwnClient,isLowVersion:!0,env:Object(u.e)(),_tdygid:"",traceId:"",gameLogTimer:null,userData:Object(u.h)(),guestData:Object(u.f)(),showLoginModeDialog:!1,showTdyBg:!0,showShareTip:!1,gameIframe:null,payIframe:null,curGameData:null,payid:"",showPayModeLayer:!1,showPayLinkLayer:!1,order:{amount:"",amountFormat:"",out_order_name:""},config:{},mpId:[],payMode:"wallt",showBackGameBtn:!1,isThirdSignning:!1,showFloatModule:!1,showFloatBall:!0,fromWhichPlatform:1,showSetPsdBox:!1,showPayWalletBox:!1,isDXYYT:!1,isLYChannel:$GLOBAL_CONST.isLYChannel}},beforeRouteLeave:function(t,e,a){this.showExitGameDialog||this.isDXYYT?a():(this.$store.commit("SHOW_EXITLAYER"),a(!1))},created:function(){"dxyyt"!==$GLOBAL_CONST.channel&&"dxyytsp"!==$GLOBAL_CONST.channel||(this.isDXYYT=!0),(this.guestData||this.isLYChannel)&&(this.payMode="wx"),this.config=Object(u.d)(),this.config.mp_id.length&&(this.mpId=this.config.mp_id.split(",")),this._tdygid=this.$route.query._tdygid.trim()||"",this._tdygid||this.$toast("URL链接游戏ID参数不正确"),sessionStorage.getItem("FROM_TDY_PLATFORM")||(this.fromWhichPlatform=2)},mounted:function(){var t=this;if(this.gameIframe=document.getElementById("game-container"),"test"!=this._tdygid&&"test2"!=this._tdygid||(this.gameIframe.style.backgroundColor="#18a3e3"),this.isOtherPlatform||$GLOBAL_CONST.isLYChannel)if(this.userData)this.getCurGameData(this._tdygid,this.showIframe);else if($GLOBAL_CONST.isOwnClient)this.showLoginModeDialog=!0;else{this.isThirdSignning=!0;var e=0,a=setInterval(function(){e++,t.userData=Object(u.h)(),t.userData&&(clearInterval(a),t.isThirdSignning=!1,t.getCurGameData(t._tdygid,t.showIframe)),e>100&&(t.isThirdSignning=!1,t.$toast("自动登录失败"),t.showLoginModeDialog=!0,clearInterval(a))},200)}else if(this.showLoginModeDialog=!1,this.isInWX)if(this.userData)this.getCurGameData(this._tdygid,this.showIframe);else var i=0,s=setInterval(function(){i++,t.userData=Object(u.h)(),t.userData&&(clearInterval(s),t.getCurGameData(t._tdygid,t.showIframe)),i>100&&(t.$toast("微信登录失败，请刷新网页重试"),clearInterval(s))},200);else if(this.userData)this.getCurGameData(this._tdygid,this.showIframe);else if(this.guestData)this.getCurGameData(this._tdygid,this.showIframe,"guest");else{var n={channel:$GLOBAL_CONST.channel};this.$api.decipherPost(h.a.LOGINGUEST,n,function(e){0==e.status?(t.guestData=e.decryptData,u.a.set("TDY_GUESTDATA",c()(e.decryptData),2592e3),localStorage.setItem("TDY_GUESTDATA",c()(e.decryptData)),t.getCurGameData(t._tdygid,t.showIframe,"guest")):t.$toast("请求错误，请刷新网页重试")})}},computed:o()({},Object(d.mapGetters)(["sidebar","exitlayer"]),{showFloatDialog:function(){return this.sidebar.opened},showExitGameDialog:function(){return this.exitlayer.show}}),destroyed:function(){this.showTdyBg||window.removeEventListener("message",this.receiveMessage,!1),this.gameLogTimer&&clearInterval(this.gameLogTimer)},methods:{shareGameTip:function(){this.showShareTip=!0},preventClick:function(){return!1},showFloatLayer:function(){this.showFloatBall=!1,this.$store.commit("OPEN_SIDEBAR")},hideFloatLayer:function(){this.$store.commit("CLOSE_SIDEBAR"),this.showFloatBall=!0},initRouteLeave:function(){var t=this;"pushState"in window.history&&(window.history.pushState({title:this.curGameData.gameName,url:location.href},this.curGameData.gameName,location.href),setTimeout(function(){window.addEventListener("popstate",function(e){(!e.state||e.state&&Object(u.i)(e.state,"key"))&&t.$store.commit("SHOW_EXITLAYER")})},800))},hideExitGameDialog:function(t){this.$store.commit("HIDE_EXITLAYER"),window.history.state||window.history.pushState({title:this.curGameData.gameName,url:location.href},this.curGameData.gameName,location.href)},initData:function(){this.payMode="wallt",this.payid="",this.payIframe=null,this.order={amount:"",amountFormat:"",out_order_name:""},this.showPayModeLayer=!1,this.showPayWalletBox=!1,this.showPayLinkLayer=!1,this.showBackGameBtn=!1},getCurGameData:function(t,e,a){var i=this,s={channel:$GLOBAL_CONST.channel,nickname:a?"":this.userData.user.nickname,sex:a?0:this.userData.user.sex||0,game_get:c()({gameId:t}),game_log:c()({gameId:t,sessionId:a?this.guestData.sessionId:sessionStorage.getItem("TDY_SESSIONID")})};this.isOtherPlatform?(s.uid=this.userData.user.id,s.token=this.userData.token):(s.uid=a?this.guestData.uid:this.userData.user.id,s.token=a?this.guestData.token:this.userData.token),this.$api.decipherPost(h.a.UQPLAYGAME,s,function(t){0==t.status?(0==t.decryptData.game_log.status&&(i.traceId=t.decryptData.game_log.body.traceId),0==t.decryptData.game_get.status&&(t.decryptData.game_get.body&&t.decryptData.game_get.body.game?(i.curGameData=t.decryptData.game_get.body.game,i.curGameData.gameName&&Object(u.p)(i.curGameData.gameName),i.isInWX&&i.share(),e&&e()):i.$toast({message:"该游戏已下线！",duration:6e3}))):i.$toast(t.message)},function(t){i.$toast("系统君抽风，请稍候再来骚扰")})},setPsdSuccess:function(){this.showSetPsdBox=!1,this.order.has_pwd=!0},share:function(){var t=/(\.jpe?g|\.png)$/i.test(this.curGameData.gameIcon)?this.curGameData.gameIcon:"https://youxicdn.tangdaoya.com/image/yaya.png",e=window.location.origin+"/game/play?_tdygid="+this.curGameData.gameId;/\/pre/.test(window.location.pathname)&&(e=window.location.origin+"/pre/game/play?_tdygid="+this.curGameData.gameId);var a={title:this.curGameData.gameName,desc:this.curGameData.gameDesc||"躺倒鸭游戏，千万玩家的h5小游戏之家，最新最火爆的h5游戏尽在躺倒鸭游戏。躺倒你就玩一下！",link:e,imgUrl:t};l.a&&l.a.wxRegister(this.$route,a)},showIframe:function(){var t=this;(!window.history.state||window.history.state&&Object(u.i)(window.history.state,"key"))&&!this.isDXYYT&&this.initRouteLeave(),u.a.set("TDYCURGID",this._tdygid,432e3),this.gameIframe.setAttribute("src",this.curGameData.gameUrl),this.gameIframe.onload=function(){t.showTdyBg=!1,t.judgeFloatShowOrHide(),t.captureIframeMsg(),t.traceId&&t.gameLog()},this.gameIframe.onerror=function(){t.$toast("游戏加载失败，请刷新重试")}},judgeFloatShowOrHide:function(){if($GLOBAL_CONST.isOwnClient)if($GLOBAL_CONST.isOwnClientAdr){var t=JSON.parse(window.jsInvoke.getEnvironmentInfo());t.version&&Number(t.version)>=4?(this.showFloatModule=!0,this.isLowVersion=!1):(this.showFloatModule=!1,this.isLowVersion=!0)}else this.showFloatModule=!0,this.isLowVersion=!1;else $GLOBAL_CONST.isLYChannel,this.showFloatModule=!0},gameLog:function(){var t=this,e={channel:$GLOBAL_CONST.channel,gameId:this._tdygid,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,show:1,entry:this.fromWhichPlatform,sessionId:this.guestData?this.guestData.sessionId:sessionStorage.getItem("TDY_SESSIONID"),traceId:this.traceId};this.gameLogTimer=null;var a="online"==this.env?3e4:5e3,i=0,s=function(){t.$api.decipherPost(h.a.GAMELOG,e)};s();this.gameLogTimer=setTimeout(function e(){++i>9&&i<25?a="online"==t.env?6e4:1e4:i>=25&&(a="online"==t.env?6e5:2e4),s(),t.gameLogTimer&&clearTimeout(t.gameLogTimer),t.gameLogTimer=setTimeout(e,a)},a)},hideModeDialog:function(){this.showLoginModeDialog=!1},handlerPhoneSign:function(t){this.userData=t,u.a.del("TDY_GUESTDATA"),localStorage.removeItem("TDY_GUESTDATA"),this.isOtherPlatform?(this.showLoginModeDialog=!1,this.getCurGameData(this._tdygid,this.showIframe)):window.location.reload()},captureIframeMsg:function(){window.addEventListener("message",this.receiveMessage,!1)},receiveMessage:function(t){var e=t.data;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}"object"==(void 0===e?"undefined":s()(e))&&"pay"==e.type?this.prePayOrder(e.data):"object"==(void 0===e?"undefined":s()(e))&&e.backGameTag?this.initData():"object"==(void 0===e?"undefined":s()(e))&&e.loginTip?this.showLoginModeDialog=!0:"object"==(void 0===e?"undefined":s()(e))&&e.mwebUrl&&(window.location.href=e.mwebUrl)},changePayMode:function(t){this.payMode=t},backToGame:function(){this.initData()},prePayOrder:function(t){if(this.payid=t.prepayId,$GLOBAL_CONST.isLYChannel){var e={uid:this.userData.user.id,token:this.userData.token,prepay_id:t.prepayId};window.parent.TDYProxy.startPay(e)?(this.payMode="LianYun",this.openPayIframe("LianYun")):this.getOrder()}else this.getOrder()},getOrder:function(){var t=this;this.$indicator.open();var e={channel:$GLOBAL_CONST.channel,uid:this.guestData?this.guestData.uid:this.userData.user.id,token:this.guestData?this.guestData.token:this.userData.token,order_no:this.payid};this.$api.decipherPost(h.a.FINDPAYORDER,e,function(e){t.$indicator.close(),0==e.status?(e.decryptData.order.amountFormat=e.decryptData.order.amount/100,e.decryptData.order.balance=e.decryptData.balance,e.decryptData.order.has_pwd=e.decryptData.has_pwd,t.order=e.decryptData.order,t.guestData||t.isLYChannel?(t.payMode="wx",t.showPayModeLayer=!0):t.isInWX?t.order.amount>Number(t.order.balance)?(t.payMode="wx",t.prepayByGZH()):(t.payMode="wallt",t.showPayModeLayer=!0):(t.payMode=t.order.amount>Number(t.order.balance)?"wx":"wallt",t.showPayModeLayer=!0)):11111===e.status?t.showLoginModeDialog=!0:t.$toast(e.message||"发起订单失败")},function(){t.$indicator.close(),t.$toast("系统君抽风，请稍候再来骚扰")})},prepayByWallt:function(){this.showPayWalletBox=!0},openPayIframe:function(t){var e=this;if("wallt"==this.payMode)return this.order.has_pwd?void this.prepayByWallt():void(this.showSetPsdBox=!0);if(this.isInWX)return this.showPayModeLayer=!1,void this.prepayByGZH();this.$indicator.open(),this.showPayModeLayer=!1,this.showPayLinkLayer=!0;var a=window.location.origin+"/proxyPay?payid="+this.payid+"&payMode="+this.payMode;/\/pre/.test(window.location.pathname)&&(a=window.location.origin+"/pre/proxyPay?payid="+this.payid+"&payMode="+this.payMode),"LianYun"==t&&(a+="&checkresult=1"),this.$nextTick(function(){e.payIframe=document.getElementById("pay-container"),e.payIframe.setAttribute("src",a);var t=function(){e.$indicator.close(),e.showBackGameBtn=!0};e.payIframe.onload=t,e.payIframe.onerror=t})},prepayByGZH:function(){var t=this;this.$indicator.open();var e=this,a={channel:$GLOBAL_CONST.channel,uid:this.userData.user.id,token:this.userData.token,order_no:this.order.order_no,pay_type:2,order_type:2,openid:this.userData.user.openid,trade_type:4};this.$api.decipherPost(h.a.PREPAYORDER,a,function(a){0==a.status?t.wxPrePayAwait(a.decryptData.await_id,function(a){function i(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:a.wxJsapiPayInfo.appId,timeStamp:a.wxJsapiPayInfo.timeStamp,nonceStr:a.wxJsapiPayInfo.nonceStr,package:a.wxJsapiPayInfo.package,signType:a.wxJsapiPayInfo.signType,paySign:a.wxJsapiPayInfo.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg&&setTimeout(function(){e.backToGame()},1e3)})}t.$indicator.close(),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",i,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",i),document.attachEvent("onWeixinJSBridgeReady",i)):i()},function(){t.$indicator.close()}):(t.$indicator.close(),t.$toast(a.message))},function(){t.$indicator.close()})},wxPrePayAwait:function(t,e){var a=this,i={channel:$GLOBAL_CONST.channel,await_id:t,uid:this.userData.user.id,token:this.userData.token};"online"!=this.env&&"wx"==this.payMode&&(i.ip="182.150.56.177");var s=null,n=0,o=function(){a.$api.decipherPost(h.a.PREPAYORDERAWAIT,i,function(t){n++,t.decryptData&&t.decryptData.prepay_id&&(s&&clearInterval(s),e&&e(t.decryptData)),n>30&&(a.$indicator.close(),a.$toast("未知错误，请稍后重试"),s&&clearInterval(s))},function(){a.$indicator.close(),s&&clearInterval(s)})};o(),s=setInterval(o,1e3)}}},W={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-layer"},[i("iframe",{staticClass:"full",attrs:{id:"game-container"}}),t._v(" "),i("transition",{attrs:{name:"fade2"}},[t.showPayModeLayer?i("div",{staticClass:"h5-layer full"},[i("div",{staticClass:"h5-pay-layer"},[i("div",{staticClass:"pay-title"},[i("h3",[t._v("选择支付方式")]),t._v(" "),i("a",{on:{click:t.backToGame}},[i("i",{staticClass:"icon icon-close"})])]),t._v(" "),i("div",{staticClass:"pay-info-box"},[i("a",{staticClass:"pay-amount"},[t._v("支付金额："),"wallt"!==t.payMode?i("span",[t._v("￥"+t._s(t.order.amountFormat))]):i("span",[t._v(t._s(10*t.order.amountFormat)+"游戏币")])]),t._v(" "),i("p",{staticClass:"payid"},[t._v("购买商品："+t._s(t.order.out_order_name))])]),t._v(" "),i("pay-mode",{attrs:{order:t.order,expense:!0},on:{mode:t.changePayMode}}),t._v(" "),i("div",{staticClass:"pay-box"},[i("a",{staticClass:"pay-btn full",on:{click:t.openPayIframe}},[t._v("立即支付")])])],1)]):t._e()]),t._v(" "),t.showSetPsdBox?i("div",[i("set-psd-dialog",{on:{success:t.setPsdSuccess,change:function(e){t.showSetPsdBox=!1}}})],1):t._e(),t._v(" "),i("transition",{attrs:{name:"fade2"}},[t.showPayWalletBox?i("div",{staticClass:"common-bg"},[i("pay-layer",{attrs:{order:t.order},on:{exit:t.backToGame,change:function(e){t.showPayWalletBox=!1}}})],1):t._e()]),t._v(" "),t.showPayLinkLayer?i("div",{staticClass:"pay-layer"},[i("iframe",{staticClass:"full",attrs:{id:"pay-container"}}),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.showBackGameBtn,expression:"showBackGameBtn"}],staticClass:"fix-bottom",on:{click:t.backToGame}},[i("i",{staticClass:"icon icon-arrow-l-w"}),t._v("返回游戏")])]):t._e(),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showTdyBg?i("div",{staticClass:"full",attrs:{id:"splash"}},[t.config.logo?["1"==t.config.logo?[i("i",{staticClass:"icon icon-load"}),t._v(" "),i("p",{staticClass:"loading2"},[t._v("正在加载"),i("span",{staticClass:"ani-dot"},[t._v("...")])])]:i("img",{staticClass:"full",attrs:{src:t.config.logo,alt:""}})]:i("div",{staticClass:"full",staticStyle:{background:"#FFDE1E"}},[i("img",{staticClass:"start-img-default",attrs:{src:a("3JZp")}}),t._v(" "),t.mpId.length?[i("p",[t._v("豪华大礼包，加了你就知道")]),t._v(" "),i("p",{staticClass:"sub-desc"},[t._v("专属微信客服")])]:t._e(),t._v(" "),t._l(t.mpId,function(e){return i("div",{key:e},[i("a",{staticClass:"custom-wx"},[t._v(t._s(e))])])}),t._v(" "),i("p",{staticClass:"loading"},[t._v("正在加载"),i("span",{staticClass:"ani-dot"},[t._v("...")])]),t._v(" "),i("p",{staticClass:"user-deal"},[t._v("进入本游戏意味着您已阅读并同意用户协议")])],2)],2):t._e()]),t._v(" "),t.showLoginModeDialog?i("div",{staticClass:"login-mode-layer"},[i("login-mode-dialog",{attrs:{responseEvent:!t.isOtherPlatform},on:{hide:t.hideModeDialog,signByPhone:t.handlerPhoneSign}})],1):t._e(),t._v(" "),t.isThirdSignning?i("div",{staticClass:"loading-box",on:{click:t.preventClick}},[t._m(0)]):t._e(),t._v(" "),t.showExitGameDialog?[i("exit-game-dialog",{attrs:{config:t.config},on:{change:t.hideExitGameDialog}})]:t._e(),t._v(" "),t.showFloatModule?[i("float-ball",{directives:[{name:"show",rawName:"v-show",value:t.showFloatBall,expression:"showFloatBall"}],attrs:{isLogin:!!t.userData},on:{show:t.showFloatLayer}}),t._v(" "),i("div",{class:{hideSidebar:!t.showFloatDialog}},[i("transition",{attrs:{name:"fade"}},[t.showFloatDialog?i("div",{staticClass:"float-mask",on:{click:t.hideFloatLayer}}):t._e()]),t._v(" "),i("float-dialog",{attrs:{config:t.config,isLowVersion:t.isLowVersion,gameData:t.curGameData},on:{showLoginBox:function(e){t.showLoginModeDialog=!0},close:t.hideFloatLayer,share:t.shareGameTip}})],1),t._v(" "),t.showShareTip?i("div",{staticClass:"guide-mask",on:{click:function(e){t.showShareTip=!1}}},[i("img",{staticClass:"tip-img",attrs:{src:a("UfIb"),alt:""}}),t._v(" "),i("p",[t._v("点击右上角分享哦(づ′▽`)づ")])]):t._e()]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-main"},[e("img",{staticClass:"game-icon_loading",attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggb3BhY2l0eT0iLjI1IiBkPSJNMTYgMCBBMTYgMTYgMCAwIDAgMTYgMzIgQTE2IDE2IDAgMCAwIDE2IDAgTTE2IDQgQTEyIDEyIDAgMCAxIDE2IDI4IEExMiAxMiAwIDAgMSAxNiA0Ii8+CiAgPHBhdGggZD0iTTE2IDAgQTE2IDE2IDAgMCAxIDMyIDE2IEwyOCAxNiBBMTIgMTIgMCAwIDAgMTYgNHoiPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMTYgMTYiIHRvPSIzNjAgMTYgMTYiIGR1cj0iMC44cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgPC9wYXRoPgo8L3N2Zz4K",alt:""}}),this._v(" "),e("p",{staticClass:"loading-text"},[this._v("登录中...")])])}]};var Y=a("vSla")(j,W,!1,function(t){a("ykUC")},"data-v-05dd37ed",null);e.default=Y.exports},jWhC:function(t,e,a){t.exports=a.p+"static/img/qrcode.92b5284.png"},nZE4:function(t,e){},"p/op":function(t,e,a){t.exports=a.p+"static/img/seat.aa167b4.svg"},vULH:function(t,e){},w1tj:function(t,e){},wIxz:function(t,e){},ykUC:function(t,e){},zHFW:function(t,e){}});